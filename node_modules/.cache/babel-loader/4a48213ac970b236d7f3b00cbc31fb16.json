{"remainingRequest":"/Volumes/GoogleDrive/My Drive/JavaScript/vue-threebox-sample/node_modules/babel-loader/lib/index.js!/Volumes/GoogleDrive/My Drive/JavaScript/vue-threebox-sample/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Volumes/GoogleDrive/My Drive/JavaScript/vue-threebox-sample/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/GoogleDrive/My Drive/JavaScript/vue-threebox-sample/src/components/ThreeboxExample.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/GoogleDrive/My Drive/JavaScript/vue-threebox-sample/src/components/ThreeboxExample.vue","mtime":1638921278000},{"path":"/Volumes/GoogleDrive/My Drive/JavaScript/vue-threebox-sample/node_modules/cache-loader/dist/cjs.js","mtime":1637704935000},{"path":"/Volumes/GoogleDrive/My Drive/JavaScript/vue-threebox-sample/node_modules/babel-loader/lib/index.js","mtime":1637705426000},{"path":"/Volumes/GoogleDrive/My Drive/JavaScript/vue-threebox-sample/node_modules/cache-loader/dist/cjs.js","mtime":1637704935000},{"path":"/Volumes/GoogleDrive/My Drive/JavaScript/vue-threebox-sample/node_modules/vue-loader/lib/index.js","mtime":1637705662000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IG1hcGJveGdsIGZyb20gIm1hcGJveC1nbCI7CmltcG9ydCAqIGFzIE1hcGJveERyYXcgZnJvbSAnbWFwYm94LWdsLWRyYXcnOwppbXBvcnQgdGhyZWVib3ggZnJvbSAidGhyZWVib3gtcGx1Z2luL2Rpc3QvdGhyZWVib3giOwppbXBvcnQgeyBUaHJlZWJveCB9IGZyb20gJ3RocmVlYm94LXBsdWdpbic7CmltcG9ydCBQdWxzZSBmcm9tICIuL1B1bHNlcy9QdWxzZSI7CmltcG9ydCAqIGFzIHR1cmYgZnJvbSAnQHR1cmYvdHVyZic7CmltcG9ydCBSYW5nZVNsaWRlciBmcm9tICIuL1JhbmdlU2xpZGVyIjsKaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICJ2dWV4IjsKY29uc29sZS5sb2cobWFwU3RhdGUpOwpsZXQgcHVsc2UgPSBuZXcgUHVsc2UoNDAwLCA0MDAwLCB0cnVlKTsKdGhyZWVib3g7IC8vIFJldHVybnMgdHJ1ZSBpZiBmaW5kcyBhIGRlZmluZWQga2V5IGluIHRoZSBpbnB1dCBhcnJheSBvZiBkaWN0aW9uYXJpZXMKCmZ1bmN0aW9uIGtleUluRGljdGlvbmFyeShkaWN0aW9uYXJpZXMsIGtleVRvRmluZCkgewogIGZvciAodmFyIGkgaW4gZGljdGlvbmFyaWVzKSB7CiAgICBpZiAoZGljdGlvbmFyaWVzW2ldWydpZCddID09IGtleVRvRmluZCkgewogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICB9Cn0gLy8gUmV0dXJucyBhIGxpc3Qgb2YgY2VudHJvaWRzIG9mIG11bHRpcGxlIExpbmVTdHJpbmdzCgoKZnVuY3Rpb24gbGluZUNlbnRyb2lkcyhsaW5lcykgewogIGNvbnN0IGNlbnRyb2lkcyA9IFtdOwoKICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVzLmZlYXR1cmVzLmxlbmd0aDsgaSsrKSB7CiAgICBjb25zdCBsaW5lID0gdHVyZi5saW5lU3RyaW5nKGxpbmVzLmZlYXR1cmVzW2ldKTsKICAgIGNvbnN0IGN0ciA9IHR1cmYuY2VudHJvaWQobGluZVsnZ2VvbWV0cnknXVsnY29vcmRpbmF0ZXMnXSk7CiAgICBjZW50cm9pZHMucHVzaChjdHIpOwogIH0KCiAgcmV0dXJuIGNlbnRyb2lkczsKfSAvLyBSZXR1cm5zIHBvaW50cyBhbG9uZyBhIExpbmVTdHJpbmcgZGl2aWRlZCBhY2NvcmRpbmcgdG8gYSBzcGVjaWZpZWQgbGVuZ3RoIGluIG1ldGVycwoKCmZ1bmN0aW9uIGRpdmlkZUxpbmVTdHJpbmcobGluZSwgbGVuZ3RoID0gMTAwKSB7CiAgY29uc3QgY2h1bmtzID0gdHVyZi5saW5lQ2h1bmsobGluZSwgbGVuZ3RoLCB7CiAgICB1bml0czogJ21ldGVycycKICB9KTsKICByZXR1cm4gbGluZUNlbnRyb2lkcyhjaHVua3MpOwp9IC8vIEV4dHJhY3QgZHJhd24gc2hhcGUgYW5kIGNvbnZlcnQgaXQgdG8gYSBwb2x5Z29uCgoKZnVuY3Rpb24gZ2V0UG9seWdvbkRyYXduKGRyYXcpIHsKICBjb25zdCBkYXRhID0gZHJhdy5nZXRBbGwoKTsKICByZXR1cm4gdHVyZi5wb2x5Z29uKGRhdGEuZmVhdHVyZXNbMF1bJ2dlb21ldHJ5J11bJ2Nvb3JkaW5hdGVzJ10pOwp9IC8vIEV4dHJhY3QgaW50ZXJuYWwgc2tlbGV0b24gb2YgYSBzaGFwZQoKCmZ1bmN0aW9uIHZvcm9ub2lTa2VsZXRvbihkcmF3KSB7CiAgY29uc3QgcG9sID0gZ2V0UG9seWdvbkRyYXduKGRyYXcpOwogIGNvbnN0IGxpbmUgPSB0dXJmLnBvbHlnb25Ub0xpbmUocG9sKTsKICBjb25zdCBjaHVua3MgPSB0dXJmLmxpbmVDaHVuayhsaW5lLCAwLjAxKTsKICBjb25zdCBjZW50cm9pZHMgPSBsaW5lQ2VudHJvaWRzKGNodW5rcyk7CiAgY29uc3QgY2VudHJvaWRzX2dqID0gewogICAgInR5cGUiOiAiRmVhdHVyZUNvbGxlY3Rpb24iLAogICAgImZlYXR1cmVzIjogY2VudHJvaWRzCiAgfTsKICBjb25zdCB2b3Jvbm9pID0gdHVyZi52b3Jvbm9pKGNlbnRyb2lkc19naik7IC8vIEl0ZXJhdGUgb3ZlciB2b3Jvbm9pIHBvbHlnb25zIHRvIGV4dHJhY3Qgc2VnbWVudHMgaW5zaWRlIGRyYXdpbmcKCiAgY29uc3Qgdm9yb25vaUxpbmVzID0gW107CgogIGZvciAobGV0IGkgPSAwOyBpIDwgdm9yb25vaS5mZWF0dXJlcy5sZW5ndGg7IGkrKykgewogICAgY29uc3Qgdm9yb25vaVBvbHlnb24gPSB0dXJmLnBvbHlnb24odm9yb25vaS5mZWF0dXJlc1tpXVsnZ2VvbWV0cnknXVsnY29vcmRpbmF0ZXMnXSk7CiAgICBjb25zdCB2b3Jvbm9pTGluZSA9IHR1cmYucG9seWdvblRvTGluZSh2b3Jvbm9pUG9seWdvbik7CiAgICBjb25zdCB2b3Jvbm9pU2VnbWVudHMgPSB0dXJmLmxpbmVTZWdtZW50KHZvcm9ub2lMaW5lKTsKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZvcm9ub2lTZWdtZW50cy5mZWF0dXJlcy5sZW5ndGg7IGkrKykgewogICAgICBjb25zdCBzZWdtZW50Q2VudHJvaWQgPSB0dXJmLmNlbnRyb2lkKHZvcm9ub2lTZWdtZW50cy5mZWF0dXJlc1tpXSk7CgogICAgICBpZiAodHVyZi5ib29sZWFuQ29udGFpbnMocG9sLCBzZWdtZW50Q2VudHJvaWQpKSB7CiAgICAgICAgdm9yb25vaUxpbmVzLnB1c2godm9yb25vaVNlZ21lbnRzLmZlYXR1cmVzW2ldKTsKICAgICAgfQogICAgfQogIH0KCiAgY29uc3Qgdm9yb25vaUxpbmVzR2VvSlNPTiA9IHsKICAgICJ0eXBlIjogIkZlYXR1cmVDb2xsZWN0aW9uIiwKICAgICJmZWF0dXJlcyI6IHZvcm9ub2lMaW5lcwogIH07CiAgY29uc3Qgdm9yb25vaUxpbmVzQ29tYmluZWQgPSB0dXJmLmNvbWJpbmUodm9yb25vaUxpbmVzR2VvSlNPTik7CiAgY29uc3Qgdm9yb25vaUxpbmVzU2ltcGxpZmllZCA9IHR1cmYuc2ltcGxpZnkodm9yb25vaUxpbmVzQ29tYmluZWQsIHsKICAgIHRvbGVyYW5jZTogNSwKICAgIG11dGF0ZTogdHJ1ZQogIH0pOwogIHJldHVybiB2b3Jvbm9pTGluZXNTaW1wbGlmaWVkOwp9IC8vIEdlbmVyYXRlIHNrZWxldG9uIGFuZCBidWZmZXIgYWNjb3JkaW5nIHRvIHNvbWUgbnVtYmVyIG9mIGl0ZXJhdGlvbnMKCgpmdW5jdGlvbiBidWZmZXJEcmF3U2tlbGV0b24oc2tlbGV0b24pIHsKICBjb25zdCBidWZmZXJlZFNrZWxldG9ucyA9IFtdOwoKICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykgewogICAgY29uc3Qgc2tlbGV0b25CdWZmZXIgPSB0dXJmLmJ1ZmZlcihza2VsZXRvbiwgMzAgKiAoaSArIDEpLCB7CiAgICAgIHVuaXRzOiAnbWV0ZXJzJwogICAgfSk7CiAgICBjb25zdCBkaXNzb2x2ZWRTa2VsZXRvbiA9IHR1cmYuZGlzc29sdmUoc2tlbGV0b25CdWZmZXIpOwogICAgYnVmZmVyZWRTa2VsZXRvbnMucHVzaCh0dXJmLmxpbmVTdHJpbmcoZGlzc29sdmVkU2tlbGV0b24uZmVhdHVyZXNbMF1bJ2dlb21ldHJ5J11bJ2Nvb3JkaW5hdGVzJ11bMF0pKTsKICB9CgogIHJldHVybiBidWZmZXJlZFNrZWxldG9uczsKfSAvLyBTdWJkaXZpZGUgYSBkcmF3biBzaGFwZSB1c2luZyBWb3Jvbm9pIHBhdHRlcm5zCgoKZnVuY3Rpb24gc3ViZGl2aWRlU2hhcGUoZHJhdykgewogIGNvbnN0IHNrZWxldG9uID0gdm9yb25vaVNrZWxldG9uKGRyYXcpOwogIGNvbnN0IHNrZWxldG9uQnVmZmVyU21hbGwgPSB0dXJmLmJ1ZmZlcihza2VsZXRvbiwgMC4xLCB7CiAgICB1bml0czogJ21ldGVycycKICB9KS5mZWF0dXJlc1swXTsKICBjb25zdCBza2VsZXRvbkxpbmUgPSB0dXJmLnBvbHlnb25Ub0xpbmUoc2tlbGV0b25CdWZmZXJTbWFsbCk7CiAgY29uc3QgZGl2aWRlZFNrZWxldG9uID0gZGl2aWRlTGluZVN0cmluZyh0dXJmLmNvbWJpbmUoc2tlbGV0b25MaW5lKSk7CiAgY29uc3Qgdm9yb25vaVNrZWxldG9uQnVmZmVycyA9IGJ1ZmZlckRyYXdTa2VsZXRvbihza2VsZXRvbik7CiAgY29uc3QgcGVycGVuZGljdWxhckxpbmVzID0gW107CgogIGZvciAobGV0IGkgPSAwOyBpIDwgZGl2aWRlZFNrZWxldG9uLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgb3JpZ2luYWxQb2ludCA9IGRpdmlkZWRTa2VsZXRvbltpXTsKICAgIGNvbnN0IG5lYXJlc3RQb2ludHMgPSBbb3JpZ2luYWxQb2ludFsnZ2VvbWV0cnknXVsnY29vcmRpbmF0ZXMnXV07CgogICAgZm9yIChsZXQgaiA9IDA7IGogPCB2b3Jvbm9pU2tlbGV0b25CdWZmZXJzLmxlbmd0aDsgaisrKSB7CiAgICAgIGNvbnN0IGJ1ZmZlciA9IHZvcm9ub2lTa2VsZXRvbkJ1ZmZlcnNbal07CiAgICAgIGNvbnN0IG5leHRQb2ludCA9IHR1cmYubmVhcmVzdFBvaW50T25MaW5lKGJ1ZmZlciwgdHVyZi5wb2ludChvcmlnaW5hbFBvaW50WydnZW9tZXRyeSddWydjb29yZGluYXRlcyddKSk7CiAgICAgIG5lYXJlc3RQb2ludHMucHVzaChuZXh0UG9pbnRbJ2dlb21ldHJ5J11bJ2Nvb3JkaW5hdGVzJ10pOwogICAgICBvcmlnaW5hbFBvaW50ID0gbmV4dFBvaW50OwogICAgfQoKICAgIHBlcnBlbmRpY3VsYXJMaW5lcy5wdXNoKHR1cmYubGluZVN0cmluZyhuZWFyZXN0UG9pbnRzKSk7CiAgfSAvLyBCdWZmZXIgbGluZXMgYW5kIHN1YnRyYWN0CgoKICBjb25zdCBjZW50ZXJsaW5lcyA9IHR1cmYuZmVhdHVyZUNvbGxlY3Rpb24ocGVycGVuZGljdWxhckxpbmVzLmNvbmNhdChza2VsZXRvbi5mZWF0dXJlcywgdm9yb25vaVNrZWxldG9uQnVmZmVycykpOwogIHJldHVybiBjZW50ZXJsaW5lczsKfQoKZnVuY3Rpb24gZ2VuZXJhdGVCbG9ja3MoZHJhdywgc3RyZWV0X3dpZHRoKSB7CiAgY29uc3QgYnVmZmVyZWRDZW50ZXJsaW5lcyA9IHR1cmYuZGlzc29sdmUodHVyZi5idWZmZXIoc3ViZGl2aWRlU2hhcGUoZHJhdyksIHN0cmVldF93aWR0aCAvIDIsIHsKICAgIHVuaXRzOiAnbWV0ZXJzJwogIH0pKTsKICByZXR1cm4gdHVyZi5kaWZmZXJlbmNlKGdldFBvbHlnb25EcmF3bihkcmF3KSwgYnVmZmVyZWRDZW50ZXJsaW5lcy5mZWF0dXJlc1swXSk7Cn0KCmZ1bmN0aW9uIGRlbGV0ZU91dGxpbmVEcmF3cyhtYXApIHsKICBpZiAoa2V5SW5EaWN0aW9uYXJ5KG1hcC5nZXRTdHlsZSgpLmxheWVycywgJ291dGxpbmUnKSkgewogICAgbWFwLnJlbW92ZUxheWVyKCdvdXRsaW5lJyk7CiAgfQoKICBpZiAoJ2RyYXcnIGluIG1hcC5nZXRTdHlsZSgpLnNvdXJjZXMpIHsKICAgIG1hcC5yZW1vdmVTb3VyY2UoJ2RyYXcnKTsKICB9Cn0KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiVGhyZWVib3hFeGFtcGxlIiwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFjY2Vzc1Rva2VuOiAicGsuZXlKMUlqb2libWxqYUc5c1lYTnRZWEowYVc1dklpd2lZU0k2SW1Ock1qVmhPR3BoT1RBelpHVXpiRzh3TkhKaGRUWnJNbVlpZlEuOTh1RE1uR0l2bjF6cnc0WldVTzM1ZyIKICAgIH07CiAgfSwKCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuaW5pdE1hcCgpOwogIH0sCgogIGNvbXBvbmVudHM6IHsKICAgIFJhbmdlU2xpZGVyCiAgfSwKICBtZXRob2RzOiB7CiAgICB1cGRhdGVWYWx1ZSh2YWx1ZSkgewogICAgICB0aGlzLnZhbHVlID0gdmFsdWU7CiAgICAgIGNvbnNvbGUubG9nKCJWYWx1ZSB1cGRhdGVkIHRvIiwgdGhpcy52YWx1ZSk7CiAgICB9LAoKICAgIHNwaGVyZShsb24sIGxhdCkgewogICAgICBsZXQgb3JpZ2luID0gW2xvbiwgbGF0LCAwXTsKICAgICAgcmV0dXJuIHdpbmRvdy50Yi5zcGhlcmUoewogICAgICAgIGNvbG9yOiAicmVkIiwKICAgICAgICBtYXRlcmlhbDogIk1lc2hUb29uTWF0ZXJpYWwiCiAgICAgIH0pLnNldENvb3JkcyhvcmlnaW4pOwogICAgfSwKCiAgICBhbmltYXRlUHVsc2UoKSB7CiAgICAgIHB1bHNlLnVwZGF0ZSgpOwogICAgICB0aGlzLm1hcC50cmlnZ2VyUmVwYWludCgpOwogICAgfSwKCiAgICBpbml0TWFwKCkgewogICAgICBtYXBib3hnbC5hY2Nlc3NUb2tlbiA9IHRoaXMuYWNjZXNzVG9rZW47CiAgICAgIHRoaXMubWFwID0gbmV3IG1hcGJveGdsLk1hcCh7CiAgICAgICAgY29udGFpbmVyOiAibWFwIiwKICAgICAgICBpbnRlcmFjdGl2ZTogdHJ1ZSwKICAgICAgICBzdHlsZTogIm1hcGJveDovL3N0eWxlcy9tYXBib3gvZGFyay12MTAiLAogICAgICAgIHpvb206IDE2LAogICAgICAgIGNlbnRlcjogWy0xMjMuMTA2ODY1OCwgNDkuMjYyNjk4Ml0sCiAgICAgICAgcGl0Y2g6IDYwLAogICAgICAgIGJlYXJpbmc6IDM2MCwKICAgICAgICBhbnRpYWxpYXM6IHRydWUgLy8gYXR0cmlidXRpb25Db250cm9sOiBmYWxzZQoKICAgICAgfSkub24oInN0eWxlLmxvYWQiLCAoKSA9PiB7CiAgICAgICAgd2luZG93LnRiID0gbmV3IFRocmVlYm94KHRoaXMubWFwLCB0aGlzLm1hcC5nZXRDYW52YXMoKS5nZXRDb250ZXh0KCJ3ZWJnbCIpLCB7CiAgICAgICAgICBkZWZhdWx0TGlnaHRzOiB0cnVlCiAgICAgICAgfSk7IC8vIEFkZCBkcmF3IGNvbnRyb2wKCiAgICAgICAgaWYgKHRoaXMubWFwLmdldExheWVyKCJjdXN0b21fbGF5ZXIiKSA9PSBudWxsKSB7CiAgICAgICAgICB0aGlzLm1hcC5vbignbG9hZCcsICgpID0+IHsKICAgICAgICAgICAgLy8gLy8gQWRkIDNEIHRlcnJhaW4KICAgICAgICAgICAgLy8gdGhpcy5tYXAuYWRkU291cmNlKCdtYXBib3gtZGVtJywgewogICAgICAgICAgICAvLyAgICd0eXBlJzogJ3Jhc3Rlci1kZW0nLAogICAgICAgICAgICAvLyAgICd1cmwnOiAnbWFwYm94Oi8vbWFwYm94Lm1hcGJveC10ZXJyYWluLWRlbS12MScsCiAgICAgICAgICAgIC8vICAgJ3RpbGVTaXplJzogNTEyLAogICAgICAgICAgICAvLyAgICdtYXh6b29tJzogMjAKICAgICAgICAgICAgLy8gfSk7CiAgICAgICAgICAgIC8vCiAgICAgICAgICAgIC8vIC8vIGFkZCB0aGUgREVNIHNvdXJjZSBhcyBhIHRlcnJhaW4gbGF5ZXIgd2l0aCBleGFnZ2VyYXRlZCBoZWlnaHQKICAgICAgICAgICAgLy8gdGhpcy5tYXAuc2V0VGVycmFpbih7ICdzb3VyY2UnOiAnbWFwYm94LWRlbScsICdleGFnZ2VyYXRpb24nOiAxLjUgfSk7CiAgICAgICAgICAgIC8vIC8vIEFkZCBwYXJjZWxzIGxheWVyIHNvdXJjZSAoQ29WKQogICAgICAgICAgICAvLyB0aGlzLm1hcC5hZGRTb3VyY2UoJ3Byb3BlcnR5LXBhcmNlbC1wb2x5Z29ucycsIHsKICAgICAgICAgICAgLy8gICAndHlwZSc6ICdnZW9qc29uJywKICAgICAgICAgICAgLy8gICAnZGF0YSc6ICdodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vbmljaG9sYXNtYXJ0aW5vL3Z1ZS10aHJlZWJveC9tYXN0ZXIvcHVibGljL2RhdGEvcHJvcGVydHktcGFyY2VsLXBvbHlnb25zLmdlb2pzb24nLAogICAgICAgICAgICAvLyB9KTsKICAgICAgICAgICAgLy8KICAgICAgICAgICAgLy8gLy8gQWRkIHBhcmNlbHMgbGF5ZXIgdG8gbWFwCiAgICAgICAgICAgIC8vIHRoaXMubWFwLmFkZExheWVyKHsKICAgICAgICAgICAgLy8gICAnaWQnOiAncHJvcGVydHktcGFyY2VsLXBvbHlnb25zLXNocCcsCiAgICAgICAgICAgIC8vICAgJ3R5cGUnOiAnZmlsbCcsCiAgICAgICAgICAgIC8vICAgJ3NvdXJjZSc6ICdwcm9wZXJ0eS1wYXJjZWwtcG9seWdvbnMnLAogICAgICAgICAgICAvLyAgICdwYWludCc6IHsKICAgICAgICAgICAgLy8gICAgICdmaWxsLWNvbG9yJzogJyMwMDgwZmYnLCAvLyBibHVlIGNvbG9yIGZpbGwKICAgICAgICAgICAgLy8gICAgICdmaWxsLW9wYWNpdHknOiAwLjIsCiAgICAgICAgICAgIC8vICAgfSwKICAgICAgICAgICAgLy8gfSk7CiAgICAgICAgICAgIC8vIFRoZSAnYnVpbGRpbmcnIGxheWVyIGluIHRoZSBNYXBib3ggU3RyZWV0cwogICAgICAgICAgICAvLyB2ZWN0b3IgdGlsZXNldCBjb250YWlucyBidWlsZGluZyBoZWlnaHQgZGF0YQogICAgICAgICAgICAvLyBmcm9tIE9wZW5TdHJlZXRNYXAuCiAgICAgICAgICAgIHRoaXMubWFwLmFkZExheWVyKHsKICAgICAgICAgICAgICAnaWQnOiAnYWRkLTNkLWJ1aWxkaW5ncycsCiAgICAgICAgICAgICAgJ3NvdXJjZSc6ICdjb21wb3NpdGUnLAogICAgICAgICAgICAgICdzb3VyY2UtbGF5ZXInOiAnYnVpbGRpbmcnLAogICAgICAgICAgICAgICdmaWx0ZXInOiBbJz09JywgJ2V4dHJ1ZGUnLCAndHJ1ZSddLAogICAgICAgICAgICAgICd0eXBlJzogJ2ZpbGwtZXh0cnVzaW9uJywKICAgICAgICAgICAgICAnbWluem9vbSc6IDEyLAogICAgICAgICAgICAgICdwYWludCc6IHsKICAgICAgICAgICAgICAgICdmaWxsLWV4dHJ1c2lvbi1jb2xvcic6ICcjYWFhJywKICAgICAgICAgICAgICAgIC8vIFVzZSBhbiAnaW50ZXJwb2xhdGUnIGV4cHJlc3Npb24gdG8KICAgICAgICAgICAgICAgIC8vIGFkZCBhIHNtb290aCB0cmFuc2l0aW9uIGVmZmVjdCB0bwogICAgICAgICAgICAgICAgLy8gdGhlIGJ1aWxkaW5ncyBhcyB0aGUgdXNlciB6b29tcyBpbi4KICAgICAgICAgICAgICAgICdmaWxsLWV4dHJ1c2lvbi1oZWlnaHQnOiBbJ2ludGVycG9sYXRlJywgWydsaW5lYXInXSwgWyd6b29tJ10sIDksIDAsIDE1LjA1LCBbJ2dldCcsICdoZWlnaHQnXV0sCiAgICAgICAgICAgICAgICAnZmlsbC1leHRydXNpb24tYmFzZSc6IFsnaW50ZXJwb2xhdGUnLCBbJ2xpbmVhciddLCBbJ3pvb20nXSwgOSwgMCwgMTUuMDUsIFsnZ2V0JywgJ21pbl9oZWlnaHQnXV0sCiAgICAgICAgICAgICAgICAvLyAnZmlsbC1leHRydXNpb24taGVpZ2h0JzogWydnZXQnLCAnaGVpZ2h0J10sCiAgICAgICAgICAgICAgICAnZmlsbC1leHRydXNpb24tb3BhY2l0eSc6IDAuOAogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsgLy8gLy8gQWRkIHNwaGVyZXMgdG8gbWFwCiAgICAgICAgICAvLyBjb25zdCBfdGhpcyA9IHRoaXMKICAgICAgICAgIC8vIHRoaXMubWFwLmFkZExheWVyKHsKICAgICAgICAgIC8vICAgaWQ6ICJjdXN0b21fbGF5ZXIiLAogICAgICAgICAgLy8gICB0eXBlOiAiY3VzdG9tIiwKICAgICAgICAgIC8vICAgcmVuZGVyaW5nTW9kZTogIjNkIiwKICAgICAgICAgIC8vCiAgICAgICAgICAvLyAgIG9uQWRkOiBmdW5jdGlvbiAobWFwLCBtYnhDb250ZXh0KSB7CiAgICAgICAgICAvLyAgICAgd2luZG93LnRiLmFkZChfdGhpcy5zcGhlcmUoLTEyMy4xMDY4NjU4LCA0OS4yNjI2OTgyKSk7CiAgICAgICAgICAvLyAgICAgd2luZG93LnRiLmFkZChfdGhpcy5zcGhlcmUoLTEyMy4xMDg4NjU4LCA0OS4yNjI2OTgyKSk7CiAgICAgICAgICAvLyAgICAgY29uc29sZS5sb2cobWFwKQogICAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKG1ieENvbnRleHQpCiAgICAgICAgICAvLyAgICAgbGV0IHB1bHNlT2JqID0gd2luZG93LnRiCiAgICAgICAgICAvLyAgICAgICAuT2JqZWN0M0QoeyBvYmo6IHB1bHNlLCB1bml0czogIm1ldGVycyIgfSkKICAgICAgICAgIC8vICAgICAgIC5zZXRDb29yZHMoWy0xMjMuMTA2ODY1OCwgNDkuMjYyNjk4MiwgMF0pOwogICAgICAgICAgLy8KICAgICAgICAgIC8vICAgICBwdWxzZU9iai5zZXRBbmNob3IoImJvdHRvbS1sZWZ0Iik7CiAgICAgICAgICAvLwogICAgICAgICAgLy8gICAgIHdpbmRvdy50Yi5hZGQocHVsc2VPYmopOwogICAgICAgICAgLy8gICB9LAogICAgICAgICAgLy8gICByZW5kZXI6IGZ1bmN0aW9uIChnbCwgbWF0cml4KSB7CiAgICAgICAgICAvLyAgICAgd2luZG93LnRiLnVwZGF0ZSgpOwogICAgICAgICAgLy8gICAgIF90aGlzLmFuaW1hdGVQdWxzZSgpOwogICAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKGdsKQogICAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKG1hdHJpeCkKICAgICAgICAgIC8vICAgfSwKICAgICAgICAgIC8vIH0pOwogICAgICAgIH0KICAgICAgfSk7IC8vIEFkZCBkcmF3IGNvbnRyb2xzCgogICAgICBjb25zdCBkcmF3ID0gbmV3IE1hcGJveERyYXcoKTsKICAgICAgdGhpcy5tYXAuYWRkQ29udHJvbChkcmF3LCAndG9wLXJpZ2h0Jyk7IC8vIENhbGN1bGF0ZSB0aGUgYXJlYSBvZiBkcmF3biBwb2x5Z29ucwoKICAgICAgZnVuY3Rpb24gdXBkYXRlQXJlYSgpIHsKICAgICAgICBjb25zdCBkYXRhID0gZHJhdy5nZXRBbGwoKTsKICAgICAgICBjb25zdCBhbnN3ZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FsY3VsYXRlZC1hcmVhJyk7CgogICAgICAgIGlmIChkYXRhLmZlYXR1cmVzLmxlbmd0aCA+IDApIHsKICAgICAgICAgIGNvbnN0IGFyZWEgPSB0dXJmLmFyZWEoZGF0YSk7IC8vIFJlc3RyaWN0IHRoZSBhcmVhIHRvIDIgZGVjaW1hbCBwb2ludHMuCgogICAgICAgICAgY29uc3Qgcm91bmRlZF9hcmVhID0gTWF0aC5yb3VuZChhcmVhICogMTAwKSAvIDEwMDsKICAgICAgICAgIGFuc3dlci5pbm5lckhUTUwgPSBgPHA+PHN0cm9uZz4ke3JvdW5kZWRfYXJlYX08L3N0cm9uZz4gbcKyPC9wPmA7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFuc3dlci5pbm5lckhUTUwgPSAnJzsgLy8gaWYgKGUudHlwZSAhPT0gJ2RyYXcuZGVsZXRlJykKICAgICAgICAgIC8vICAgYWxlcnQoJ0NsaWNrIHRoZSBtYXAgdG8gZHJhdyBhIHBvbHlnb24uJyk7CiAgICAgICAgfQogICAgICB9CgogICAgICB0aGlzLm1hcC5vbignZHJhdy5jcmVhdGUnLCB1cGRhdGVBcmVhKTsKICAgICAgdGhpcy5tYXAub24oJ2RyYXcuZGVsZXRlJywgdXBkYXRlQXJlYSk7CiAgICAgIHRoaXMubWFwLm9uKCdkcmF3LnVwZGF0ZScsIHVwZGF0ZUFyZWEpOwogICAgICB0aGlzLm1hcC5vbignZHJhdy5jcmVhdGUnLCAoKSA9PiB7CiAgICAgICAgdGhpcy5tYXAuYWRkU291cmNlKCdkcmF3JywgewogICAgICAgICAgJ3R5cGUnOiAnZ2VvanNvbicsCiAgICAgICAgICAnZGF0YSc6IGdlbmVyYXRlQmxvY2tzKGRyYXcsIDgpCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5tYXAuYWRkTGF5ZXIoewogICAgICAgICAgJ2lkJzogJ291dGxpbmUnLAogICAgICAgICAgJ3R5cGUnOiAnZmlsbCcsCiAgICAgICAgICAnc291cmNlJzogJ2RyYXcnLAogICAgICAgICAgJ3BhaW50JzogewogICAgICAgICAgICAnZmlsbC1jb2xvcic6ICcjMDZiZTdmJwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgdGhpcy5tYXAub24oJ2RyYXcuZGVsZXRlJywgKCkgPT4gewogICAgICAgIGRlbGV0ZU91dGxpbmVEcmF3cyh0aGlzLm1hcCk7CiAgICAgIH0pOwogICAgICB0aGlzLm1hcC5vbignZHJhdy51cGRhdGUnLCAoKSA9PiB7CiAgICAgICAgZGVsZXRlT3V0bGluZURyYXdzKHRoaXMubWFwKTsKICAgICAgICB0aGlzLm1hcC5hZGRTb3VyY2UoJ2RyYXcnLCB7CiAgICAgICAgICAndHlwZSc6ICdnZW9qc29uJywKICAgICAgICAgICdkYXRhJzogZ2VuZXJhdGVCbG9ja3MoZHJhdywgOCkKICAgICAgICB9KTsKICAgICAgICB0aGlzLm1hcC5hZGRMYXllcih7CiAgICAgICAgICAnaWQnOiAnb3V0bGluZScsCiAgICAgICAgICAndHlwZSc6ICdmaWxsJywKICAgICAgICAgICdzb3VyY2UnOiAnZHJhdycsCiAgICAgICAgICAncGFpbnQnOiB7CiAgICAgICAgICAgICdmaWxsLWNvbG9yJzogJyMwNmJlN2YnIC8vIHJlZCBjb2xvcgoKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CgogIH0KfTs="},{"version":3,"sources":["ThreeboxExample.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <div id=\"map\"></div>\n    <div id=\"vue-range-slider\">\n      <RangeSlider v-on:changeValue=\"updateValue($event)\"/>\n    </div>\n  </div>\n</template>\n\n<script>\nimport mapboxgl from \"mapbox-gl\";\nimport * as MapboxDraw from 'mapbox-gl-draw';\nimport threebox from \"threebox-plugin/dist/threebox\";\nimport { Threebox } from 'threebox-plugin';\nimport Pulse from \"./Pulses/Pulse\";\nimport * as turf from '@turf/turf';\nimport RangeSlider from \"./RangeSlider\"\nimport { mapState } from \"vuex\";\n\nconsole.log(mapState)\nlet pulse = new Pulse(400, 4000, true);\nthreebox\n\n\n// Returns true if finds a defined key in the input array of dictionaries\nfunction keyInDictionary (dictionaries, keyToFind) {\n    for (var i in dictionaries) {\n        if (dictionaries[i]['id'] == keyToFind) {\n            return true\n        }\n    }\n}\n\n\n// Returns a list of centroids of multiple LineStrings\nfunction lineCentroids(lines) {\n  const centroids = [];\n  for (let i = 0; i < lines.features.length; i++) {\n    const line = turf.lineString(lines.features[i])\n    const ctr = turf.centroid(line['geometry']['coordinates'])\n    centroids.push(ctr)\n  }\n  return centroids\n}\n\n\n// Returns points along a LineString divided according to a specified length in meters\nfunction divideLineString(line, length=100) {\n  const chunks = turf.lineChunk(line, length, {units: 'meters'})\n  return lineCentroids(chunks)\n}\n\n\n// Extract drawn shape and convert it to a polygon\nfunction getPolygonDrawn(draw){\n  const data = draw.getAll()\n  return turf.polygon(data.features[0]['geometry']['coordinates'])\n}\n\n\n// Extract internal skeleton of a shape\nfunction voronoiSkeleton(draw){\n  const pol = getPolygonDrawn(draw)\n  const line = turf.polygonToLine(pol)\n  const chunks = turf.lineChunk(line, 0.01)\n  const centroids = lineCentroids(chunks)\n  const centroids_gj = {\n    \"type\": \"FeatureCollection\",\n    \"features\": centroids\n  }\n  const voronoi = turf.voronoi(centroids_gj)\n  // Iterate over voronoi polygons to extract segments inside drawing\n  const voronoiLines = [];\n  for (let i = 0; i < voronoi.features.length; i++) {\n    const voronoiPolygon = turf.polygon(voronoi.features[i]['geometry']['coordinates']);\n    const voronoiLine = turf.polygonToLine(voronoiPolygon)\n    const voronoiSegments = turf.lineSegment(voronoiLine)\n    for (let i = 0; i < voronoiSegments.features.length; i++) {\n      const segmentCentroid = turf.centroid(voronoiSegments.features[i])\n      if (turf.booleanContains(pol, segmentCentroid)) {\n        voronoiLines.push(voronoiSegments.features[i])\n      }\n    }\n  }\n  const voronoiLinesGeoJSON = {\n    \"type\": \"FeatureCollection\",\n    \"features\": voronoiLines\n  }\n  const voronoiLinesCombined = turf.combine(voronoiLinesGeoJSON)\n  const voronoiLinesSimplified = turf.simplify(voronoiLinesCombined,\n    {tolerance: 5, mutate: true})\n  return voronoiLinesSimplified\n}\n\n\n// Generate skeleton and buffer according to some number of iterations\nfunction bufferDrawSkeleton(skeleton) {\n  const bufferedSkeletons = []\n  for (let i = 0; i < 3; i++) {\n    const skeletonBuffer = turf.buffer(skeleton, 30 * (i+1), {units: 'meters'})\n    const dissolvedSkeleton = turf.dissolve(skeletonBuffer)\n    bufferedSkeletons.push(turf.lineString(dissolvedSkeleton.features[0]['geometry']['coordinates'][0]))\n  }\n  return bufferedSkeletons\n}\n\n\n// Subdivide a drawn shape using Voronoi patterns\nfunction subdivideShape(draw) {\n  const skeleton = voronoiSkeleton(draw)\n  const skeletonBufferSmall = turf.buffer(skeleton, 0.1, {units: 'meters'}).features[0]\n  const skeletonLine = turf.polygonToLine(skeletonBufferSmall)\n  const dividedSkeleton = divideLineString(turf.combine(skeletonLine))\n  const voronoiSkeletonBuffers = bufferDrawSkeleton(skeleton)\n  const perpendicularLines = []\n  for (let i = 0; i < dividedSkeleton.length; i++) {\n    var originalPoint = dividedSkeleton[i]\n    const nearestPoints = [originalPoint['geometry']['coordinates']]\n    for (let j = 0; j < voronoiSkeletonBuffers.length; j++) {\n      const buffer = voronoiSkeletonBuffers[j]\n      const nextPoint = turf.nearestPointOnLine(buffer, turf.point(originalPoint['geometry']['coordinates']))\n      nearestPoints.push(nextPoint['geometry']['coordinates'])\n      originalPoint = nextPoint\n    }\n    perpendicularLines.push(turf.lineString(nearestPoints))\n  }\n  // Buffer lines and subtract\n  const centerlines = turf.featureCollection(perpendicularLines.concat(skeleton.features, voronoiSkeletonBuffers))\n  return centerlines\n}\n\n\nfunction generateBlocks(draw, street_width) {\n  const bufferedCenterlines = turf.dissolve(turf.buffer(subdivideShape(draw), street_width/2, {units: 'meters'}))\n  return turf.difference(getPolygonDrawn(draw), bufferedCenterlines.features[0])\n}\n\n\nfunction deleteOutlineDraws(map) {\n  if (keyInDictionary(map.getStyle().layers, 'outline')) {\n    map.removeLayer('outline')\n  }\n  if ('draw' in map.getStyle().sources) {\n    map.removeSource('draw')\n  }\n}\n\n\nexport default {\n  name: \"ThreeboxExample\",\n  data() {\n    return {\n      accessToken:\n        \"pk.eyJ1IjoibmljaG9sYXNtYXJ0aW5vIiwiYSI6ImNrMjVhOGphOTAzZGUzbG8wNHJhdTZrMmYifQ.98uDMnGIvn1zrw4ZWUO35g\",\n    };\n  },\n  mounted() {\n    this.initMap()\n  },\n  components: {\n    RangeSlider\n  },\n  methods: {\n    updateValue(value) {\n      this.value = value\n      console.log(\"Value updated to\", this.value)\n    },\n    sphere(lon, lat) {\n      let origin = [lon, lat, 0];\n      return window.tb\n        .sphere({ color: \"red\", material: \"MeshToonMaterial\" })\n        .setCoords(origin);\n    },\n    animatePulse() {\n      pulse.update();\n      this.map.triggerRepaint();\n    },\n    initMap() {\n      mapboxgl.accessToken = this.accessToken;\n      this.map = new mapboxgl.Map({\n        container: \"map\",\n        interactive: true,\n        style:  \"mapbox://styles/mapbox/dark-v10\",\n        zoom: 16,\n        center: [-123.1068658, 49.2626982],\n        pitch: 60,\n        bearing: 360,\n        antialias: true,\n        // attributionControl: false\n      }).on(\"style.load\", () => {\n        window.tb = new Threebox(\n          this.map,\n          this.map.getCanvas().getContext(\"webgl\"),\n          {\n            defaultLights: true,\n          }\n        );\n\n        // Add draw control\n        if (this.map.getLayer(\"custom_layer\") == null) {\n\n          this.map.on('load', () => {\n\n            // // Add 3D terrain\n            // this.map.addSource('mapbox-dem', {\n            //   'type': 'raster-dem',\n            //   'url': 'mapbox://mapbox.mapbox-terrain-dem-v1',\n            //   'tileSize': 512,\n            //   'maxzoom': 20\n            // });\n            //\n            // // add the DEM source as a terrain layer with exaggerated height\n            // this.map.setTerrain({ 'source': 'mapbox-dem', 'exaggeration': 1.5 });\n\n            // // Add parcels layer source (CoV)\n            // this.map.addSource('property-parcel-polygons', {\n            //   'type': 'geojson',\n            //   'data': 'https://raw.githubusercontent.com/nicholasmartino/vue-threebox/master/public/data/property-parcel-polygons.geojson',\n            // });\n            //\n            // // Add parcels layer to map\n            // this.map.addLayer({\n            //   'id': 'property-parcel-polygons-shp',\n            //   'type': 'fill',\n            //   'source': 'property-parcel-polygons',\n            //   'paint': {\n            //     'fill-color': '#0080ff', // blue color fill\n            //     'fill-opacity': 0.2,\n            //   },\n            // });\n\n            // The 'building' layer in the Mapbox Streets\n            // vector tileset contains building height data\n            // from OpenStreetMap.\n            this.map.addLayer({\n              'id': 'add-3d-buildings',\n              'source': 'composite',\n              'source-layer': 'building',\n              'filter': ['==', 'extrude', 'true'],\n              'type': 'fill-extrusion',\n              'minzoom': 12,\n              'paint': {\n                'fill-extrusion-color': '#aaa',\n\n                // Use an 'interpolate' expression to\n                // add a smooth transition effect to\n                // the buildings as the user zooms in.\n                'fill-extrusion-height': [\n                  'interpolate',\n                  ['linear'],\n                  ['zoom'],\n                  9,\n                  0,\n                  15.05,\n                  ['get', 'height']\n                ],\n                'fill-extrusion-base': [\n                  'interpolate',\n                  ['linear'],\n                  ['zoom'],\n                  9,\n                  0,\n                  15.05,\n                  ['get', 'min_height']\n                ],\n\n                // 'fill-extrusion-height': ['get', 'height'],\n                'fill-extrusion-opacity': 0.8,\n              },\n            });\n\n          });\n\n          // // Add spheres to map\n          // const _this = this\n          // this.map.addLayer({\n          //   id: \"custom_layer\",\n          //   type: \"custom\",\n          //   renderingMode: \"3d\",\n          //\n          //   onAdd: function (map, mbxContext) {\n          //     window.tb.add(_this.sphere(-123.1068658, 49.2626982));\n          //     window.tb.add(_this.sphere(-123.1088658, 49.2626982));\n          //     console.log(map)\n          //     console.log(mbxContext)\n          //     let pulseObj = window.tb\n          //       .Object3D({ obj: pulse, units: \"meters\" })\n          //       .setCoords([-123.1068658, 49.2626982, 0]);\n          //\n          //     pulseObj.setAnchor(\"bottom-left\");\n          //\n          //     window.tb.add(pulseObj);\n          //   },\n          //   render: function (gl, matrix) {\n          //     window.tb.update();\n          //     _this.animatePulse();\n          //     console.log(gl)\n          //     console.log(matrix)\n          //   },\n          // });\n\n        }\n      });\n\n      // Add draw controls\n      const draw = new MapboxDraw();\n      this.map.addControl(draw, 'top-right');\n\n      // Calculate the area of drawn polygons\n      function updateArea() {\n          const data = draw.getAll();\n          const answer = document.getElementById('calculated-area');\n          if (data.features.length > 0) {\n            const area = turf.area(data);\n\n            // Restrict the area to 2 decimal points.\n            const rounded_area = Math.round(area * 100) / 100;\n            answer.innerHTML = `<p><strong>${rounded_area}</strong> m²</p>`;\n          } else {\n            answer.innerHTML = '';\n            // if (e.type !== 'draw.delete')\n            //   alert('Click the map to draw a polygon.');\n        }\n      }\n\n      this.map.on('draw.create', updateArea);\n      this.map.on('draw.delete', updateArea);\n      this.map.on('draw.update', updateArea);\n\n      this.map.on('draw.create', () => {\n        this.map.addSource('draw', {\n          'type': 'geojson',\n          'data': generateBlocks(draw, 8),\n        });\n        this.map.addLayer({\n          'id': 'outline',\n          'type': 'fill',\n          'source': 'draw',\n          'paint': {\n            'fill-color': '#06be7f',\n          }\n        });\n      });\n\n      this.map.on('draw.delete', () => {\n        deleteOutlineDraws(this.map)\n      });\n\n      this.map.on('draw.update', () => {\n        deleteOutlineDraws(this.map)\n        this.map.addSource('draw', {\n          'type': 'geojson',\n          'data': generateBlocks(draw, 8),\n        });\n        this.map.addLayer({\n          'id': 'outline',\n          'type': 'fill',\n          'source': 'draw',\n          'paint': {\n            'fill-color': '#06be7f' // red color\n          }\n        });\n      });\n    }\n  },\n};\n\n</script>\n\n\n<style>\n#map {\n  position: absolute;\n  width: 100vw;\n  height: 100vh;\n}\n@import \"https://api.mapbox.com/mapbox-gl-js/v0.42.0/mapbox-gl.css\";\n@import \"https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-draw/v1.2.2/mapbox-gl-draw.css\";\n.mapboxgl-ctrl-group button {\n    width: 29px;\n    height: 29px;\n    display: block;\n    padding: 0;\n    outline: none;\n    border: 0;\n    box-sizing: border-box;\n    background-color: transparent;\n    cursor: pointer;\n    overflow: hidden;\n}\n.mapboxgl-ctrl-top-right {\n    top: 0;\n    right: 0;\n    position: absolute;\n}\n</style>\n"],"sourceRoot":"src/components"}]}