{"remainingRequest":"/Users/nicholasmartino/JavaScript/site-divider/node_modules/babel-loader/lib/index.js!/Users/nicholasmartino/JavaScript/site-divider/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--12-0!/Users/nicholasmartino/JavaScript/site-divider/src/store/store.js","dependencies":[{"path":"/Users/nicholasmartino/JavaScript/site-divider/src/store/store.js","mtime":1639068961000},{"path":"/Users/nicholasmartino/JavaScript/site-divider/node_modules/cache-loader/dist/cjs.js","mtime":1639173070060},{"path":"/Users/nicholasmartino/JavaScript/site-divider/node_modules/babel-loader/lib/index.js","mtime":1639173071039},{"path":"/Users/nicholasmartino/JavaScript/site-divider/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js","mtime":1639173070345}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVleCBmcm9tICd2dWV4JzsKaW1wb3J0IG1hcGJveGdsIGZyb20gIm1hcGJveC1nbCI7CmltcG9ydCAqIGFzIE1hcGJveERyYXcgZnJvbSAnbWFwYm94LWdsLWRyYXcnOwppbXBvcnQgeyBUaHJlZWJveCB9IGZyb20gJ3RocmVlYm94LXBsdWdpbic7CmltcG9ydCB7IHVwZGF0ZURyYXcgfSBmcm9tICcuLi9jb21wb25lbnRzL01hcCc7ClZ1ZS51c2UoVnVleCk7CmV4cG9ydCBjb25zdCBzdG9yZSA9IG5ldyBWdWV4LlN0b3JlKHsKICBzdGF0ZTogewogICAgYWNjZXNzVG9rZW46ICJway5leUoxSWpvaWJtbGphRzlzWVhOdFlYSjBhVzV2SWl3aVlTSTZJbU5yTWpWaE9HcGhPVEF6WkdVemJHOHdOSEpoZFRack1tWWlmUS45OHVETW5HSXZuMXpydzRaV1VPMzVnIiwKICAgIHdpZHRoUmFuZ2U6IFs2LCAxMF0sCiAgICBkcmF3OiBudWxsLAogICAgbWFwYm94OiBudWxsLAogICAgcG9seWdvbnM6IG51bGwKICB9LAogIGdldHRlcnM6IHsKICAgIGdldERyYXc6IHN0YXRlID0+IHsKICAgICAgcmV0dXJuIHN0YXRlLmRyYXc7CiAgICB9CiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIHNldFJhbmdlOiAoc3RhdGUsIHZhbHVlKSA9PiB7CiAgICAgIHN0YXRlLndpZHRoUmFuZ2UgPSB2YWx1ZTsKICAgIH0sCiAgICBzZXREcmF3OiAoc3RhdGUsIGRyYXcpID0+IHsKICAgICAgc3RhdGUuZHJhdyA9IGRyYXc7CiAgICB9LAogICAgbG9hZE1hcDogKHN0YXRlLCBtYXBib3gpID0+IHsKICAgICAgc3RhdGUubWFwYm94ID0gbWFwYm94OwogICAgfSwKICAgIGdlbmVyYXRlUG9seWdvbnM6IChzdGF0ZSwgcG9seWdvbnMpID0+IHsKICAgICAgY29uc29sZS5sb2codXBkYXRlRHJhdyhzdGF0ZS5tYXBib3gsIHN0YXRlLmRyYXcsIHN0YXRlLndpZHRoUmFuZ2UpKTsKICAgICAgc3RhdGUucG9seWdvbnMgPSBwb2x5Z29uczsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIGxvYWRNYXAoY29udGV4dCkgewogICAgICBtYXBib3hnbC5hY2Nlc3NUb2tlbiA9IHRoaXMuc3RhdGUuYWNjZXNzVG9rZW47CiAgICAgIHZhciBtYXBib3ggPSBuZXcgbWFwYm94Z2wuTWFwKHsKICAgICAgICBjb250YWluZXI6ICJtYXAiLAogICAgICAgIGludGVyYWN0aXZlOiB0cnVlLAogICAgICAgIHN0eWxlOiAibWFwYm94Oi8vc3R5bGVzL21hcGJveC9kYXJrLXYxMCIsCiAgICAgICAgem9vbTogMTYsCiAgICAgICAgY2VudGVyOiBbLTEyMy4xMDY4NjU4LCA0OS4yNjI2OTgyXSwKICAgICAgICBwaXRjaDogNjAsCiAgICAgICAgYmVhcmluZzogMzYwLAogICAgICAgIGFudGlhbGlhczogdHJ1ZSwKICAgICAgICBhdHRyaWJ1dGlvbkNvbnRyb2w6IGZhbHNlCiAgICAgIH0pLm9uKCJzdHlsZS5sb2FkIiwgKCkgPT4gewogICAgICAgIHdpbmRvdy50YiA9IG5ldyBUaHJlZWJveChtYXBib3gsIG1hcGJveC5nZXRDYW52YXMoKS5nZXRDb250ZXh0KCJ3ZWJnbCIpLCB7CiAgICAgICAgICBkZWZhdWx0TGlnaHRzOiB0cnVlCiAgICAgICAgfSk7IC8vIEFkZCBkcmF3IGNvbnRyb2wKCiAgICAgICAgaWYgKG1hcGJveC5nZXRMYXllcigiY3VzdG9tX2xheWVyIikgPT0gbnVsbCkgewogICAgICAgICAgbWFwYm94Lm9uKCdsb2FkJywgKCkgPT4gewogICAgICAgICAgICAvLyBBZGQgM0QgdGVycmFpbgogICAgICAgICAgICBtYXBib3guYWRkU291cmNlKCdtYXBib3gtZGVtJywgewogICAgICAgICAgICAgICd0eXBlJzogJ3Jhc3Rlci1kZW0nLAogICAgICAgICAgICAgICd1cmwnOiAnbWFwYm94Oi8vbWFwYm94Lm1hcGJveC10ZXJyYWluLWRlbS12MScsCiAgICAgICAgICAgICAgJ3RpbGVTaXplJzogNTEyLAogICAgICAgICAgICAgICdtYXh6b29tJzogMjAKICAgICAgICAgICAgfSk7IC8vIGFkZCB0aGUgREVNIHNvdXJjZSBhcyBhIHRlcnJhaW4gbGF5ZXIgd2l0aCBleGFnZ2VyYXRlZCBoZWlnaHQKCiAgICAgICAgICAgIG1hcGJveC5zZXRUZXJyYWluKHsKICAgICAgICAgICAgICAnc291cmNlJzogJ21hcGJveC1kZW0nLAogICAgICAgICAgICAgICdleGFnZ2VyYXRpb24nOiAxLjUKICAgICAgICAgICAgfSk7IC8vIEFkZCBwYXJjZWxzIGxheWVyIHNvdXJjZSAoQ29WKQoKICAgICAgICAgICAgbWFwYm94LmFkZFNvdXJjZSgncHJvcGVydHktcGFyY2VsLXBvbHlnb25zJywgewogICAgICAgICAgICAgICd0eXBlJzogJ2dlb2pzb24nLAogICAgICAgICAgICAgICdkYXRhJzogJ2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9uaWNob2xhc21hcnRpbm8vdnVlLXRocmVlYm94L21hc3Rlci9wdWJsaWMvZGF0YS9wcm9wZXJ0eS1wYXJjZWwtcG9seWdvbnMuZ2VvanNvbicKICAgICAgICAgICAgfSk7IC8vIEFkZCBwYXJjZWxzIGxheWVyIHRvIG1hcAoKICAgICAgICAgICAgbWFwYm94LmFkZExheWVyKHsKICAgICAgICAgICAgICAnaWQnOiAncHJvcGVydHktcGFyY2VsLXBvbHlnb25zLXNocCcsCiAgICAgICAgICAgICAgJ3R5cGUnOiAnZmlsbCcsCiAgICAgICAgICAgICAgJ3NvdXJjZSc6ICdwcm9wZXJ0eS1wYXJjZWwtcG9seWdvbnMnLAogICAgICAgICAgICAgICdwYWludCc6IHsKICAgICAgICAgICAgICAgICdmaWxsLWNvbG9yJzogJyNmZmZmZmYnLAogICAgICAgICAgICAgICAgLy8gYmx1ZSBjb2xvciBmaWxsCiAgICAgICAgICAgICAgICAnZmlsbC1vcGFjaXR5JzogMC4yCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsgLy8gVGhlICdidWlsZGluZycgbGF5ZXIgaW4gdGhlIE1hcGJveCBTdHJlZXRzCiAgICAgICAgICAgIC8vIHZlY3RvciB0aWxlc2V0IGNvbnRhaW5zIGJ1aWxkaW5nIGhlaWdodCBkYXRhCiAgICAgICAgICAgIC8vIGZyb20gT3BlblN0cmVldE1hcC4KCiAgICAgICAgICAgIG1hcGJveC5hZGRMYXllcih7CiAgICAgICAgICAgICAgJ2lkJzogJ2FkZC0zZC1idWlsZGluZ3MnLAogICAgICAgICAgICAgICdzb3VyY2UnOiAnY29tcG9zaXRlJywKICAgICAgICAgICAgICAnc291cmNlLWxheWVyJzogJ2J1aWxkaW5nJywKICAgICAgICAgICAgICAnZmlsdGVyJzogWyc9PScsICdleHRydWRlJywgJ3RydWUnXSwKICAgICAgICAgICAgICAndHlwZSc6ICdmaWxsLWV4dHJ1c2lvbicsCiAgICAgICAgICAgICAgJ21pbnpvb20nOiAxMiwKICAgICAgICAgICAgICAncGFpbnQnOiB7CiAgICAgICAgICAgICAgICAnZmlsbC1leHRydXNpb24tY29sb3InOiAnI2FhYScsCiAgICAgICAgICAgICAgICAvLyBVc2UgYW4gJ2ludGVycG9sYXRlJyBleHByZXNzaW9uIHRvCiAgICAgICAgICAgICAgICAvLyBhZGQgYSBzbW9vdGggdHJhbnNpdGlvbiBlZmZlY3QgdG8KICAgICAgICAgICAgICAgIC8vIHRoZSBidWlsZGluZ3MgYXMgdGhlIHVzZXIgem9vbXMgaW4uCiAgICAgICAgICAgICAgICAnZmlsbC1leHRydXNpb24taGVpZ2h0JzogWydpbnRlcnBvbGF0ZScsIFsnbGluZWFyJ10sIFsnem9vbSddLCA5LCAwLCAxNS4wNSwgWydnZXQnLCAnaGVpZ2h0J11dLAogICAgICAgICAgICAgICAgJ2ZpbGwtZXh0cnVzaW9uLWJhc2UnOiBbJ2ludGVycG9sYXRlJywgWydsaW5lYXInXSwgWyd6b29tJ10sIDksIDAsIDE1LjA1LCBbJ2dldCcsICdtaW5faGVpZ2h0J11dLAogICAgICAgICAgICAgICAgLy8gJ2ZpbGwtZXh0cnVzaW9uLWhlaWdodCc6IFsnZ2V0JywgJ2hlaWdodCddLAogICAgICAgICAgICAgICAgJ2ZpbGwtZXh0cnVzaW9uLW9wYWNpdHknOiAwLjgKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7IC8vIC8vIEFkZCBzcGhlcmVzIHRvIG1hcAogICAgICAgICAgLy8gY29uc3QgX3RoaXMgPSB0aGlzCiAgICAgICAgICAvLyBtYXBib3guYWRkTGF5ZXIoewogICAgICAgICAgLy8gICBpZDogImN1c3RvbV9sYXllciIsCiAgICAgICAgICAvLyAgIHR5cGU6ICJjdXN0b20iLAogICAgICAgICAgLy8gICByZW5kZXJpbmdNb2RlOiAiM2QiLAogICAgICAgICAgLy8KICAgICAgICAgIC8vICAgb25BZGQ6IGZ1bmN0aW9uIChtYXAsIG1ieENvbnRleHQpIHsKICAgICAgICAgIC8vICAgICB3aW5kb3cudGIuYWRkKF90aGlzLnNwaGVyZSgtMTIzLjEwNjg2NTgsIDQ5LjI2MjY5ODIpKTsKICAgICAgICAgIC8vICAgICB3aW5kb3cudGIuYWRkKF90aGlzLnNwaGVyZSgtMTIzLjEwODg2NTgsIDQ5LjI2MjY5ODIpKTsKICAgICAgICAgIC8vICAgICBjb25zb2xlLmxvZyhtYXApCiAgICAgICAgICAvLyAgICAgY29uc29sZS5sb2cobWJ4Q29udGV4dCkKICAgICAgICAgIC8vICAgICBsZXQgcHVsc2VPYmogPSB3aW5kb3cudGIKICAgICAgICAgIC8vICAgICAgIC5PYmplY3QzRCh7IG9iajogcHVsc2UsIHVuaXRzOiAibWV0ZXJzIiB9KQogICAgICAgICAgLy8gICAgICAgLnNldENvb3JkcyhbLTEyMy4xMDY4NjU4LCA0OS4yNjI2OTgyLCAwXSk7CiAgICAgICAgICAvLwogICAgICAgICAgLy8gICAgIHB1bHNlT2JqLnNldEFuY2hvcigiYm90dG9tLWxlZnQiKTsKICAgICAgICAgIC8vCiAgICAgICAgICAvLyAgICAgd2luZG93LnRiLmFkZChwdWxzZU9iaik7CiAgICAgICAgICAvLyAgIH0sCiAgICAgICAgICAvLyAgIHJlbmRlcjogZnVuY3Rpb24gKGdsLCBtYXRyaXgpIHsKICAgICAgICAgIC8vICAgICB3aW5kb3cudGIudXBkYXRlKCk7CiAgICAgICAgICAvLyAgICAgX3RoaXMuYW5pbWF0ZVB1bHNlKCk7CiAgICAgICAgICAvLyAgICAgY29uc29sZS5sb2coZ2wpCiAgICAgICAgICAvLyAgICAgY29uc29sZS5sb2cobWF0cml4KQogICAgICAgICAgLy8gICB9LAogICAgICAgICAgLy8gfSk7CiAgICAgICAgfQogICAgICB9KTsgLy8gY29uc3QgZHJhdyA9IG5ldyBNYXBib3hEcmF3KCk7CiAgICAgIC8vIG1hcGJveC5hZGRDb250cm9sKGRyYXcsICd0b3AtcmlnaHQnKTsKICAgICAgLy8gY29udGV4dC5jb21taXQoJ3NldERyYXcnLCBkcmF3KQoKICAgICAgY29udGV4dC5jb21taXQoJ2xvYWRNYXAnLCBtYXBib3gpOyAvLyB0aGlzLmdlbmVyYXRlUG9seWdvbnMoKQogICAgfSwKCiAgICBzZXREcmF3KGNvbnRleHQpIHsKICAgICAgLy8gQWRkIGRyYXcgY29udHJvbHMKICAgICAgY29uc29sZS5sb2coIkFkZCBkcmF3Iik7CiAgICAgIGNvbnN0IGRyYXcgPSBuZXcgTWFwYm94RHJhdygpOwogICAgICB0aGlzLnN0YXRlLm1hcGJveC5hZGRDb250cm9sKGRyYXcsICd0b3AtcmlnaHQnKTsKICAgICAgY29udGV4dC5jb21taXQoJ3NldERyYXcnLCBkcmF3KTsKICAgIH0KCiAgfQp9KTs="},{"version":3,"sources":["/Users/nicholasmartino/JavaScript/site-divider/src/store/store.js"],"names":["Vue","Vuex","mapboxgl","MapboxDraw","Threebox","updateDraw","use","store","Store","state","accessToken","widthRange","draw","mapbox","polygons","getters","getDraw","mutations","setRange","value","setDraw","loadMap","generatePolygons","console","log","actions","context","Map","container","interactive","style","zoom","center","pitch","bearing","antialias","attributionControl","on","window","tb","getCanvas","getContext","defaultLights","getLayer","addSource","setTerrain","addLayer","commit","addControl"],"mappings":"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","sourcesContent":["import Vue from 'vue';\nimport Vuex from 'vuex';\nimport mapboxgl from \"mapbox-gl\";\nimport * as MapboxDraw from 'mapbox-gl-draw';\nimport { Threebox } from 'threebox-plugin';\nimport { updateDraw } from '../components/Map'\nVue.use(Vuex);\n\n\nexport const store = new Vuex.Store({\n  state:{\n    accessToken:\n      \"pk.eyJ1IjoibmljaG9sYXNtYXJ0aW5vIiwiYSI6ImNrMjVhOGphOTAzZGUzbG8wNHJhdTZrMmYifQ.98uDMnGIvn1zrw4ZWUO35g\",\n    widthRange: [6, 10],\n    draw: null,\n    mapbox: null,\n    polygons: null\n  },\n  getters: {\n    getDraw: state => {\n        return state.draw\n    }\n  },\n  mutations: {\n    setRange: (state, value) => {\n      state.widthRange = value\n    },\n    setDraw: (state, draw) => {\n      state.draw = draw\n    },\n    loadMap: (state, mapbox) => {\n      state.mapbox = mapbox\n    },\n    generatePolygons: (state, polygons) => {\n      console.log(updateDraw(state.mapbox, state.draw, state.widthRange))\n      state.polygons = polygons\n    }\n  },\n  actions: {\n    loadMap (context) {\n      mapboxgl.accessToken = this.state.accessToken\n      var mapbox = new mapboxgl.Map({\n        container: \"map\",\n        interactive: true,\n        style:  \"mapbox://styles/mapbox/dark-v10\",\n        zoom: 16,\n        center: [-123.1068658, 49.2626982],\n        pitch: 60,\n        bearing: 360,\n        antialias: true,\n        attributionControl: false\n      }).on(\"style.load\", () => {\n        window.tb = new Threebox(\n          mapbox,\n          mapbox.getCanvas().getContext(\"webgl\"), {\n            defaultLights: true,\n          }\n        );\n\n        // Add draw control\n        if (mapbox.getLayer(\"custom_layer\") == null) {\n\n          mapbox.on('load', () => {\n\n            // Add 3D terrain\n            mapbox.addSource('mapbox-dem', {\n              'type': 'raster-dem',\n              'url': 'mapbox://mapbox.mapbox-terrain-dem-v1',\n              'tileSize': 512,\n              'maxzoom': 20\n            });\n\n            // add the DEM source as a terrain layer with exaggerated height\n            mapbox.setTerrain({ 'source': 'mapbox-dem', 'exaggeration': 1.5 });\n\n            // Add parcels layer source (CoV)\n            mapbox.addSource('property-parcel-polygons', {\n              'type': 'geojson',\n              'data': 'https://raw.githubusercontent.com/nicholasmartino/vue-threebox/master/public/data/property-parcel-polygons.geojson',\n            });\n\n            // Add parcels layer to map\n            mapbox.addLayer({\n              'id': 'property-parcel-polygons-shp',\n              'type': 'fill',\n              'source': 'property-parcel-polygons',\n              'paint': {\n                'fill-color': '#ffffff', // blue color fill\n                'fill-opacity': 0.2,\n              },\n            });\n\n            // The 'building' layer in the Mapbox Streets\n            // vector tileset contains building height data\n            // from OpenStreetMap.\n            mapbox.addLayer({\n              'id': 'add-3d-buildings',\n              'source': 'composite',\n              'source-layer': 'building',\n              'filter': ['==', 'extrude', 'true'],\n              'type': 'fill-extrusion',\n              'minzoom': 12,\n              'paint': {\n                'fill-extrusion-color': '#aaa',\n\n                // Use an 'interpolate' expression to\n                // add a smooth transition effect to\n                // the buildings as the user zooms in.\n                'fill-extrusion-height': [\n                  'interpolate',\n                  ['linear'],\n                  ['zoom'],\n                  9,\n                  0,\n                  15.05,\n                  ['get', 'height']\n                ],\n                'fill-extrusion-base': [\n                  'interpolate',\n                  ['linear'],\n                  ['zoom'],\n                  9,\n                  0,\n                  15.05,\n                  ['get', 'min_height']\n                ],\n\n                // 'fill-extrusion-height': ['get', 'height'],\n                'fill-extrusion-opacity': 0.8,\n              },\n            });\n          });\n\n          // // Add spheres to map\n          // const _this = this\n          // mapbox.addLayer({\n          //   id: \"custom_layer\",\n          //   type: \"custom\",\n          //   renderingMode: \"3d\",\n          //\n          //   onAdd: function (map, mbxContext) {\n          //     window.tb.add(_this.sphere(-123.1068658, 49.2626982));\n          //     window.tb.add(_this.sphere(-123.1088658, 49.2626982));\n          //     console.log(map)\n          //     console.log(mbxContext)\n          //     let pulseObj = window.tb\n          //       .Object3D({ obj: pulse, units: \"meters\" })\n          //       .setCoords([-123.1068658, 49.2626982, 0]);\n          //\n          //     pulseObj.setAnchor(\"bottom-left\");\n          //\n          //     window.tb.add(pulseObj);\n          //   },\n          //   render: function (gl, matrix) {\n          //     window.tb.update();\n          //     _this.animatePulse();\n          //     console.log(gl)\n          //     console.log(matrix)\n          //   },\n          // });\n\n        }\n      });\n      // const draw = new MapboxDraw();\n      // mapbox.addControl(draw, 'top-right');\n      // context.commit('setDraw', draw)\n      context.commit('loadMap', mapbox)\n      // this.generatePolygons()\n    },\n    setDraw (context) {\n      // Add draw controls\n      console.log(\"Add draw\")\n      const draw = new MapboxDraw();\n      this.state.mapbox.addControl(draw, 'top-right');\n      context.commit('setDraw', draw)\n    },\n  }\n})\n"]}]}