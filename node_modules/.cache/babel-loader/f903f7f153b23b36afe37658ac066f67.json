{"remainingRequest":"/Volumes/GoogleDrive/My Drive/JavaScript/vue-threebox-sample/node_modules/babel-loader/lib/index.js!/Volumes/GoogleDrive/My Drive/JavaScript/vue-threebox-sample/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Volumes/GoogleDrive/My Drive/JavaScript/vue-threebox-sample/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/GoogleDrive/My Drive/JavaScript/vue-threebox-sample/src/components/Map.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/GoogleDrive/My Drive/JavaScript/vue-threebox-sample/src/components/Map.vue","mtime":1638993079000},{"path":"/Volumes/GoogleDrive/My Drive/JavaScript/vue-threebox-sample/node_modules/cache-loader/dist/cjs.js","mtime":1637704935000},{"path":"/Volumes/GoogleDrive/My Drive/JavaScript/vue-threebox-sample/node_modules/babel-loader/lib/index.js","mtime":1637705426000},{"path":"/Volumes/GoogleDrive/My Drive/JavaScript/vue-threebox-sample/node_modules/cache-loader/dist/cjs.js","mtime":1637704935000},{"path":"/Volumes/GoogleDrive/My Drive/JavaScript/vue-threebox-sample/node_modules/vue-loader/lib/index.js","mtime":1637705662000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IG1hcGJveGdsIGZyb20gIm1hcGJveC1nbCI7CmltcG9ydCAqIGFzIE1hcGJveERyYXcgZnJvbSAnbWFwYm94LWdsLWRyYXcnOwppbXBvcnQgdGhyZWVib3ggZnJvbSAidGhyZWVib3gtcGx1Z2luL2Rpc3QvdGhyZWVib3giOwppbXBvcnQgeyBUaHJlZWJveCB9IGZyb20gJ3RocmVlYm94LXBsdWdpbic7CmltcG9ydCBQdWxzZSBmcm9tICIuL1B1bHNlcy9QdWxzZSI7CmltcG9ydCAqIGFzIHR1cmYgZnJvbSAnQHR1cmYvdHVyZic7CmltcG9ydCBSYW5nZVNsaWRlciBmcm9tICIuL1JhbmdlU2xpZGVyIjsKbGV0IHB1bHNlID0gbmV3IFB1bHNlKDQwMCwgNDAwMCwgdHJ1ZSk7CnRocmVlYm94OyAvLyBDYWxjdWxhdGUgdGhlIGFyZWEgb2YgZHJhd24gcG9seWdvbnMKCmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVBcmVhKGRyYXcpIHsKICBjb25zdCBkYXRhID0gZHJhdy5nZXRBbGwoKTsKICBjb25zdCBhbnN3ZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FsY3VsYXRlZC1hcmVhJyk7CgogIGlmIChkYXRhLmZlYXR1cmVzLmxlbmd0aCA+IDApIHsKICAgIGNvbnN0IGFyZWEgPSB0dXJmLmFyZWEoZGF0YSk7IC8vIFJlc3RyaWN0IHRoZSBhcmVhIHRvIDIgZGVjaW1hbCBwb2ludHMuCgogICAgY29uc3Qgcm91bmRlZF9hcmVhID0gTWF0aC5yb3VuZChhcmVhICogMTAwKSAvIDEwMDsKICAgIGFuc3dlci5pbm5lckhUTUwgPSBgPHA+PHN0cm9uZz4ke3JvdW5kZWRfYXJlYX08L3N0cm9uZz4gbcKyPC9wPmA7CiAgfSBlbHNlIHsKICAgIGFuc3dlci5pbm5lckhUTUwgPSAnJzsgLy8gaWYgKGUudHlwZSAhPT0gJ2RyYXcuZGVsZXRlJykKICAgIC8vICAgYWxlcnQoJ0NsaWNrIHRoZSBtYXAgdG8gZHJhdyBhIHBvbHlnb24uJyk7CiAgfQp9IC8vIFJldHVybnMgdHJ1ZSBpZiBmaW5kcyBhIGRlZmluZWQga2V5IGluIHRoZSBpbnB1dCBhcnJheSBvZiBkaWN0aW9uYXJpZXMKCmV4cG9ydCBmdW5jdGlvbiBrZXlJbkRpY3Rpb25hcnkoZGljdGlvbmFyaWVzLCBrZXlUb0ZpbmQpIHsKICBmb3IgKHZhciBpIGluIGRpY3Rpb25hcmllcykgewogICAgaWYgKGRpY3Rpb25hcmllc1tpXVsnaWQnXSA9PSBrZXlUb0ZpbmQpIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgfQp9IC8vIFJldHVybnMgYSBsaXN0IG9mIGNlbnRyb2lkcyBvZiBtdWx0aXBsZSBMaW5lU3RyaW5ncwoKZXhwb3J0IGZ1bmN0aW9uIGxpbmVDZW50cm9pZHMobGluZXMpIHsKICBjb25zdCBjZW50cm9pZHMgPSBbXTsKCiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lcy5mZWF0dXJlcy5sZW5ndGg7IGkrKykgewogICAgY29uc3QgbGluZSA9IHR1cmYubGluZVN0cmluZyhsaW5lcy5mZWF0dXJlc1tpXSk7CiAgICBjb25zdCBjdHIgPSB0dXJmLmNlbnRyb2lkKGxpbmVbJ2dlb21ldHJ5J11bJ2Nvb3JkaW5hdGVzJ10pOwogICAgY2VudHJvaWRzLnB1c2goY3RyKTsKICB9CgogIHJldHVybiBjZW50cm9pZHM7Cn0gLy8gUmV0dXJucyBwb2ludHMgYWxvbmcgYSBMaW5lU3RyaW5nIGRpdmlkZWQgYWNjb3JkaW5nIHRvIGEgc3BlY2lmaWVkIGxlbmd0aCBpbiBtZXRlcnMKCmV4cG9ydCBmdW5jdGlvbiBkaXZpZGVMaW5lU3RyaW5nKGxpbmUsIGxlbmd0aCA9IDEwMCkgewogIGNvbnN0IGNodW5rcyA9IHR1cmYubGluZUNodW5rKGxpbmUsIGxlbmd0aCwgewogICAgdW5pdHM6ICdtZXRlcnMnCiAgfSk7CiAgcmV0dXJuIGxpbmVDZW50cm9pZHMoY2h1bmtzKTsKfSAvLyBFeHRyYWN0IGRyYXduIHNoYXBlIGFuZCBjb252ZXJ0IGl0IHRvIGEgcG9seWdvbgoKZXhwb3J0IGZ1bmN0aW9uIGdldFBvbHlnb25EcmF3bihkcmF3KSB7CiAgY29uc3QgZGF0YSA9IGRyYXcuZ2V0QWxsKCk7CiAgcmV0dXJuIHR1cmYucG9seWdvbihkYXRhLmZlYXR1cmVzWzBdWydnZW9tZXRyeSddWydjb29yZGluYXRlcyddKTsKfSAvLyBFeHRyYWN0IGludGVybmFsIHNrZWxldG9uIG9mIGEgc2hhcGUKCmV4cG9ydCBmdW5jdGlvbiB2b3Jvbm9pU2tlbGV0b24oZHJhdykgewogIGNvbnN0IHBvbCA9IGdldFBvbHlnb25EcmF3bihkcmF3KTsKICBjb25zdCBsaW5lID0gdHVyZi5wb2x5Z29uVG9MaW5lKHBvbCk7CiAgY29uc3QgY2h1bmtzID0gdHVyZi5saW5lQ2h1bmsobGluZSwgMC4wMSk7CiAgY29uc3QgY2VudHJvaWRzID0gbGluZUNlbnRyb2lkcyhjaHVua3MpOwogIGNvbnN0IGNlbnRyb2lkc19naiA9IHsKICAgICJ0eXBlIjogIkZlYXR1cmVDb2xsZWN0aW9uIiwKICAgICJmZWF0dXJlcyI6IGNlbnRyb2lkcwogIH07CiAgY29uc3Qgdm9yb25vaSA9IHR1cmYudm9yb25vaShjZW50cm9pZHNfZ2opOyAvLyBJdGVyYXRlIG92ZXIgdm9yb25vaSBwb2x5Z29ucyB0byBleHRyYWN0IHNlZ21lbnRzIGluc2lkZSBkcmF3aW5nCgogIGNvbnN0IHZvcm9ub2lMaW5lcyA9IFtdOwoKICBmb3IgKGxldCBpID0gMDsgaSA8IHZvcm9ub2kuZmVhdHVyZXMubGVuZ3RoOyBpKyspIHsKICAgIGNvbnN0IHZvcm9ub2lQb2x5Z29uID0gdHVyZi5wb2x5Z29uKHZvcm9ub2kuZmVhdHVyZXNbaV1bJ2dlb21ldHJ5J11bJ2Nvb3JkaW5hdGVzJ10pOwogICAgY29uc3Qgdm9yb25vaUxpbmUgPSB0dXJmLnBvbHlnb25Ub0xpbmUodm9yb25vaVBvbHlnb24pOwogICAgY29uc3Qgdm9yb25vaVNlZ21lbnRzID0gdHVyZi5saW5lU2VnbWVudCh2b3Jvbm9pTGluZSk7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2b3Jvbm9pU2VnbWVudHMuZmVhdHVyZXMubGVuZ3RoOyBpKyspIHsKICAgICAgY29uc3Qgc2VnbWVudENlbnRyb2lkID0gdHVyZi5jZW50cm9pZCh2b3Jvbm9pU2VnbWVudHMuZmVhdHVyZXNbaV0pOwoKICAgICAgaWYgKHR1cmYuYm9vbGVhbkNvbnRhaW5zKHBvbCwgc2VnbWVudENlbnRyb2lkKSkgewogICAgICAgIHZvcm9ub2lMaW5lcy5wdXNoKHZvcm9ub2lTZWdtZW50cy5mZWF0dXJlc1tpXSk7CiAgICAgIH0KICAgIH0KICB9CgogIGNvbnN0IHZvcm9ub2lMaW5lc0dlb0pTT04gPSB7CiAgICAidHlwZSI6ICJGZWF0dXJlQ29sbGVjdGlvbiIsCiAgICAiZmVhdHVyZXMiOiB2b3Jvbm9pTGluZXMKICB9OwogIGNvbnN0IHZvcm9ub2lMaW5lc0NvbWJpbmVkID0gdHVyZi5jb21iaW5lKHZvcm9ub2lMaW5lc0dlb0pTT04pOwogIGNvbnN0IHZvcm9ub2lMaW5lc1NpbXBsaWZpZWQgPSB0dXJmLnNpbXBsaWZ5KHZvcm9ub2lMaW5lc0NvbWJpbmVkLCB7CiAgICB0b2xlcmFuY2U6IDUsCiAgICBtdXRhdGU6IHRydWUKICB9KTsKICByZXR1cm4gdm9yb25vaUxpbmVzU2ltcGxpZmllZDsKfSAvLyBHZW5lcmF0ZSBza2VsZXRvbiBhbmQgYnVmZmVyIGFjY29yZGluZyB0byBzb21lIG51bWJlciBvZiBpdGVyYXRpb25zCgpleHBvcnQgZnVuY3Rpb24gYnVmZmVyRHJhd1NrZWxldG9uKHNrZWxldG9uKSB7CiAgY29uc3QgYnVmZmVyZWRTa2VsZXRvbnMgPSBbXTsKCiAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHsKICAgIGNvbnN0IHNrZWxldG9uQnVmZmVyID0gdHVyZi5idWZmZXIoc2tlbGV0b24sIDMwICogKGkgKyAxKSwgewogICAgICB1bml0czogJ21ldGVycycKICAgIH0pOwogICAgY29uc3QgZGlzc29sdmVkU2tlbGV0b24gPSB0dXJmLmRpc3NvbHZlKHNrZWxldG9uQnVmZmVyKTsKICAgIGJ1ZmZlcmVkU2tlbGV0b25zLnB1c2godHVyZi5saW5lU3RyaW5nKGRpc3NvbHZlZFNrZWxldG9uLmZlYXR1cmVzWzBdWydnZW9tZXRyeSddWydjb29yZGluYXRlcyddWzBdKSk7CiAgfQoKICByZXR1cm4gYnVmZmVyZWRTa2VsZXRvbnM7Cn0gLy8gU3ViZGl2aWRlIGEgZHJhd24gc2hhcGUgdXNpbmcgVm9yb25vaSBwYXR0ZXJucwoKZXhwb3J0IGZ1bmN0aW9uIHN1YmRpdmlkZVNoYXBlKGRyYXcpIHsKICBjb25zdCBvdXRwdXQgPSB7fTsKICBjb25zdCBza2VsZXRvbiA9IHZvcm9ub2lTa2VsZXRvbihkcmF3KTsKICBvdXRwdXQuc2tlbGV0b24gPSBza2VsZXRvbi5mZWF0dXJlczsKICBjb25zdCBza2VsZXRvbkJ1ZmZlclNtYWxsID0gdHVyZi5idWZmZXIoc2tlbGV0b24sIDAuMSwgewogICAgdW5pdHM6ICdtZXRlcnMnCiAgfSkuZmVhdHVyZXNbMF07CiAgY29uc3Qgc2tlbGV0b25MaW5lID0gdHVyZi5wb2x5Z29uVG9MaW5lKHNrZWxldG9uQnVmZmVyU21hbGwpOwogIGNvbnN0IGRpdmlkZWRTa2VsZXRvbiA9IGRpdmlkZUxpbmVTdHJpbmcodHVyZi5jb21iaW5lKHNrZWxldG9uTGluZSkpOwogIGNvbnN0IHZvcm9ub2lTa2VsZXRvbkJ1ZmZlcnMgPSBidWZmZXJEcmF3U2tlbGV0b24oc2tlbGV0b24pOwogIG91dHB1dC52b3Jvbm9pU2tlbGV0b25CdWZmZXJzID0gdm9yb25vaVNrZWxldG9uQnVmZmVyczsKICBvdXRwdXQucGVycGVuZGljdWxhckxpbmVzID0gW107CgogIGZvciAobGV0IGkgPSAwOyBpIDwgZGl2aWRlZFNrZWxldG9uLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgb3JpZ2luYWxQb2ludCA9IGRpdmlkZWRTa2VsZXRvbltpXTsKICAgIGNvbnN0IG5lYXJlc3RQb2ludHMgPSBbb3JpZ2luYWxQb2ludFsnZ2VvbWV0cnknXVsnY29vcmRpbmF0ZXMnXV07CgogICAgZm9yIChsZXQgaiA9IDA7IGogPCB2b3Jvbm9pU2tlbGV0b25CdWZmZXJzLmxlbmd0aDsgaisrKSB7CiAgICAgIGNvbnN0IGJ1ZmZlciA9IHZvcm9ub2lTa2VsZXRvbkJ1ZmZlcnNbal07CiAgICAgIGNvbnN0IG5leHRQb2ludCA9IHR1cmYubmVhcmVzdFBvaW50T25MaW5lKGJ1ZmZlciwgdHVyZi5wb2ludChvcmlnaW5hbFBvaW50WydnZW9tZXRyeSddWydjb29yZGluYXRlcyddKSk7CiAgICAgIG5lYXJlc3RQb2ludHMucHVzaChuZXh0UG9pbnRbJ2dlb21ldHJ5J11bJ2Nvb3JkaW5hdGVzJ10pOwogICAgICBvcmlnaW5hbFBvaW50ID0gbmV4dFBvaW50OwogICAgfQoKICAgIG91dHB1dC5wZXJwZW5kaWN1bGFyTGluZXMucHVzaCh0dXJmLmxpbmVTdHJpbmcobmVhcmVzdFBvaW50cykpOwogIH0KCiAgY29uc29sZS5sb2cob3V0cHV0KTsKICByZXR1cm4gb3V0cHV0Owp9IC8vIEJ1ZmZlciBnZW5lcmF0ZWQgbGluZXMgYWNjb3JkaW5nIHRvIGJ1ZmZlciByYW5nZSBhbmQgc3VidHJhY3QgZnJvbSBvcmlnaW5hbCBkcmF3aW5nCgpleHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVCbG9ja3MoZHJhdywgYnVmZmVyUmFuZ2UpIHsKICBjb25zdCBidWZmZXJPcHRpb25zID0gewogICAgdW5pdHM6ICdtZXRlcnMnCiAgfTsKICBjb25zdCBzdWJkaXZpc2lvbnMgPSBzdWJkaXZpZGVTaGFwZShkcmF3KTsKICBjb25zdCBza2VsZXRvbkJ1ZmZlciA9IHR1cmYuYnVmZmVyKHN1YmRpdmlzaW9ucy5za2VsZXRvblswXSwgYnVmZmVyUmFuZ2VbMV0gLyAyLCBidWZmZXJPcHRpb25zKTsKICBjb25zdCBwZXJwZW5kaWN1bGFyc0J1ZmZlcmVkID0gdHVyZi5idWZmZXIodHVyZi5mZWF0dXJlQ29sbGVjdGlvbihzdWJkaXZpc2lvbnMucGVycGVuZGljdWxhckxpbmVzKSwgKGJ1ZmZlclJhbmdlWzBdICsgYnVmZmVyUmFuZ2VbMV0pIC8gNCwgYnVmZmVyT3B0aW9ucyk7CiAgY29uc3QgcGFyYWxsZWxzQnVmZmVyZWQgPSB0dXJmLmJ1ZmZlcih0dXJmLmZlYXR1cmVDb2xsZWN0aW9uKHN1YmRpdmlzaW9ucy52b3Jvbm9pU2tlbGV0b25CdWZmZXJzKSwgYnVmZmVyUmFuZ2VbMF0gLyAyLCBidWZmZXJPcHRpb25zKTsKICBjb25zdCBhbGxCdWZmZXJzID0gdHVyZi5mZWF0dXJlQ29sbGVjdGlvbihwZXJwZW5kaWN1bGFyc0J1ZmZlcmVkLmZlYXR1cmVzLmNvbmNhdChwYXJhbGxlbHNCdWZmZXJlZC5mZWF0dXJlcywgc2tlbGV0b25CdWZmZXIpKTsKICBjb25zdCBidWZmZXJlZENlbnRlcmxpbmVzID0gdHVyZi5kaXNzb2x2ZShhbGxCdWZmZXJzKTsKICBjb25zdCBkaWZmZXJlbmNlID0gdHVyZi5kaWZmZXJlbmNlKGdldFBvbHlnb25EcmF3bihkcmF3KSwgYnVmZmVyZWRDZW50ZXJsaW5lcy5mZWF0dXJlc1swXSk7CiAgcmV0dXJuIGRpZmZlcmVuY2U7Cn0KZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZU91dGxpbmVEcmF3cyhtYXApIHsKICBpZiAoa2V5SW5EaWN0aW9uYXJ5KG1hcC5nZXRTdHlsZSgpLmxheWVycywgJ291dGxpbmUnKSkgewogICAgbWFwLnJlbW92ZUxheWVyKCdvdXRsaW5lJyk7CiAgfQoKICBpZiAoJ2RyYXcnIGluIG1hcC5nZXRTdHlsZSgpLnNvdXJjZXMpIHsKICAgIG1hcC5yZW1vdmVTb3VyY2UoJ2RyYXcnKTsKICB9Cn0KZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZURyYXcobWFwYm94LCBkcmF3LCB3aWR0aFJhbmdlKSB7CiAgZGVsZXRlT3V0bGluZURyYXdzKG1hcGJveCk7CiAgbWFwYm94LmFkZFNvdXJjZSgnZHJhdycsIHsKICAgICd0eXBlJzogJ2dlb2pzb24nLAogICAgJ2RhdGEnOiBnZW5lcmF0ZUJsb2NrcyhkcmF3LCB3aWR0aFJhbmdlKQogIH0pOwogIG1hcGJveC5hZGRMYXllcih7CiAgICAnaWQnOiAnb3V0bGluZScsCiAgICAndHlwZSc6ICdmaWxsJywKICAgICdzb3VyY2UnOiAnZHJhdycsCiAgICAncGFpbnQnOiB7CiAgICAgICdmaWxsLWNvbG9yJzogJyMwNmJlN2YnIC8vIHJlZCBjb2xvcgoKICAgIH0KICB9KTsKfQpleHBvcnQgZnVuY3Rpb24gY3JlYXRlRHJhdyhtYXBib3gsIGRyYXcsIHdpZHRoUmFuZ2UpIHsKICB3aWR0aFJhbmdlOwogIG1hcGJveC5hZGRTb3VyY2UoJ2RyYXcnLCB7CiAgICAndHlwZSc6ICdnZW9qc29uJywKICAgICdkYXRhJzogZ2VuZXJhdGVCbG9ja3MoZHJhdywgd2lkdGhSYW5nZSkKICB9KTsKICBtYXBib3guYWRkTGF5ZXIoewogICAgJ2lkJzogJ291dGxpbmUnLAogICAgJ3R5cGUnOiAnZmlsbCcsCiAgICAnc291cmNlJzogJ2RyYXcnLAogICAgJ3BhaW50JzogewogICAgICAnZmlsbC1jb2xvcic6ICcjMDZiZTdmJwogICAgfQogIH0pOwp9CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiVGhyZWVib3hFeGFtcGxlIiwKCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdsb2FkTWFwJyk7CiAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnc2V0RHJhdycpOyAvLyB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnZ2VuZXJhdGVQb2x5Z29ucycpCiAgICAvLyB0aGlzLmluaXRNYXAoKQogICAgLy8gdGhpcy5hZGREcmF3Q29udHJvbHMoKQoKICAgIHRoaXMuZ2VuZXJhdGVQb2x5Z29ucygpOwogIH0sCgogIGNvbXB1dGVkOiB7CiAgICBhY2Nlc3NUb2tlbigpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmFjY2Vzc1Rva2VuOwogICAgfSwKCiAgICBnZXREcmF3KCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy5kcmF3OwogICAgfSwKCiAgICB3aWR0aFJhbmdlKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUud2lkdGhSYW5nZTsKICAgIH0sCgogICAgZ2V0TWFwKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUubWFwYm94OwogICAgfQoKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIFJhbmdlU2xpZGVyCiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyBsb2FkTWFwIChjb250ZXh0KSB7CiAgICAvLyAgIG1hcGJveGdsLmFjY2Vzc1Rva2VuID0gdGhpcy5zdGF0ZS5hY2Nlc3NUb2tlbgogICAgLy8gICB2YXIgbWFwYm94ID0gbmV3IG1hcGJveGdsLk1hcCh7CiAgICAvLyAgICAgY29udGFpbmVyOiAibWFwIiwKICAgIC8vICAgICBpbnRlcmFjdGl2ZTogdHJ1ZSwKICAgIC8vICAgICBzdHlsZTogICJtYXBib3g6Ly9zdHlsZXMvbWFwYm94L2RhcmstdjEwIiwKICAgIC8vICAgICB6b29tOiAxNiwKICAgIC8vICAgICBjZW50ZXI6IFstMTIzLjEwNjg2NTgsIDQ5LjI2MjY5ODJdLAogICAgLy8gICAgIHBpdGNoOiA2MCwKICAgIC8vICAgICBiZWFyaW5nOiAzNjAsCiAgICAvLyAgICAgYW50aWFsaWFzOiB0cnVlLAogICAgLy8gICAgIGF0dHJpYnV0aW9uQ29udHJvbDogZmFsc2UKICAgIC8vICAgfSkKICAgIC8vICAgY29udGV4dC5jb21taXQoJ2xvYWRNYXAnLCBtYXBib3gpCiAgICAvLyB9LAogICAgLy8gc2V0RHJhdyAoY29udGV4dCkgewogICAgLy8gICAvLyBBZGQgZHJhdyBjb250cm9scwogICAgLy8gICBjb25zdCBkcmF3ID0gbmV3IE1hcGJveERyYXcoKTsKICAgIC8vICAgdGhpcy5zdGF0ZS5tYXBib3guYWRkQ29udHJvbChkcmF3LCAndG9wLXJpZ2h0Jyk7CiAgICAvLyAgIGNvbnRleHQuY29tbWl0KCdzZXREcmF3JywgdGhpcy5kcmF3KQogICAgLy8gfSwKICAgIHNwaGVyZShsb24sIGxhdCkgewogICAgICBsZXQgb3JpZ2luID0gW2xvbiwgbGF0LCAwXTsKICAgICAgcmV0dXJuIHdpbmRvdy50Yi5zcGhlcmUoewogICAgICAgIGNvbG9yOiAicmVkIiwKICAgICAgICBtYXRlcmlhbDogIk1lc2hUb29uTWF0ZXJpYWwiCiAgICAgIH0pLnNldENvb3JkcyhvcmlnaW4pOwogICAgfSwKCiAgICBhbmltYXRlUHVsc2UoKSB7CiAgICAgIHB1bHNlLnVwZGF0ZSgpOwogICAgICB0aGlzLm1hcGJveC50cmlnZ2VyUmVwYWludCgpOwogICAgfSwKCiAgICBpbml0TWFwKCkgewogICAgICBtYXBib3hnbC5hY2Nlc3NUb2tlbiA9IHRoaXMuYWNjZXNzVG9rZW47CiAgICAgIHRoaXMubWFwYm94ID0gbmV3IG1hcGJveGdsLk1hcCh7CiAgICAgICAgY29udGFpbmVyOiAibWFwIiwKICAgICAgICBpbnRlcmFjdGl2ZTogdHJ1ZSwKICAgICAgICBzdHlsZTogIm1hcGJveDovL3N0eWxlcy9tYXBib3gvZGFyay12MTAiLAogICAgICAgIHpvb206IDE2LAogICAgICAgIGNlbnRlcjogWy0xMjMuMTA2ODY1OCwgNDkuMjYyNjk4Ml0sCiAgICAgICAgcGl0Y2g6IDYwLAogICAgICAgIGJlYXJpbmc6IDM2MCwKICAgICAgICBhbnRpYWxpYXM6IHRydWUsCiAgICAgICAgYXR0cmlidXRpb25Db250cm9sOiBmYWxzZQogICAgICB9KS5vbigic3R5bGUubG9hZCIsICgpID0+IHsKICAgICAgICB3aW5kb3cudGIgPSBuZXcgVGhyZWVib3godGhpcy5tYXBib3gsIHRoaXMubWFwYm94LmdldENhbnZhcygpLmdldENvbnRleHQoIndlYmdsIiksIHsKICAgICAgICAgIGRlZmF1bHRMaWdodHM6IHRydWUKICAgICAgICB9KTsgLy8gQWRkIGRyYXcgY29udHJvbAoKICAgICAgICBpZiAodGhpcy5tYXBib3guZ2V0TGF5ZXIoImN1c3RvbV9sYXllciIpID09IG51bGwpIHsKICAgICAgICAgIHRoaXMubWFwYm94Lm9uKCdsb2FkJywgKCkgPT4gewogICAgICAgICAgICAvLyAvLyBBZGQgM0QgdGVycmFpbgogICAgICAgICAgICAvLyB0aGlzLm1hcGJveC5hZGRTb3VyY2UoJ21hcGJveC1kZW0nLCB7CiAgICAgICAgICAgIC8vICAgJ3R5cGUnOiAncmFzdGVyLWRlbScsCiAgICAgICAgICAgIC8vICAgJ3VybCc6ICdtYXBib3g6Ly9tYXBib3gubWFwYm94LXRlcnJhaW4tZGVtLXYxJywKICAgICAgICAgICAgLy8gICAndGlsZVNpemUnOiA1MTIsCiAgICAgICAgICAgIC8vICAgJ21heHpvb20nOiAyMAogICAgICAgICAgICAvLyB9KTsKICAgICAgICAgICAgLy8KICAgICAgICAgICAgLy8gLy8gYWRkIHRoZSBERU0gc291cmNlIGFzIGEgdGVycmFpbiBsYXllciB3aXRoIGV4YWdnZXJhdGVkIGhlaWdodAogICAgICAgICAgICAvLyB0aGlzLm1hcGJveC5zZXRUZXJyYWluKHsgJ3NvdXJjZSc6ICdtYXBib3gtZGVtJywgJ2V4YWdnZXJhdGlvbic6IDEuNSB9KTsKICAgICAgICAgICAgLy8gLy8gQWRkIHBhcmNlbHMgbGF5ZXIgc291cmNlIChDb1YpCiAgICAgICAgICAgIC8vIHRoaXMubWFwYm94LmFkZFNvdXJjZSgncHJvcGVydHktcGFyY2VsLXBvbHlnb25zJywgewogICAgICAgICAgICAvLyAgICd0eXBlJzogJ2dlb2pzb24nLAogICAgICAgICAgICAvLyAgICdkYXRhJzogJ2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9uaWNob2xhc21hcnRpbm8vdnVlLXRocmVlYm94L21hc3Rlci9wdWJsaWMvZGF0YS9wcm9wZXJ0eS1wYXJjZWwtcG9seWdvbnMuZ2VvanNvbicsCiAgICAgICAgICAgIC8vIH0pOwogICAgICAgICAgICAvLwogICAgICAgICAgICAvLyAvLyBBZGQgcGFyY2VscyBsYXllciB0byBtYXAKICAgICAgICAgICAgLy8gdGhpcy5tYXBib3guYWRkTGF5ZXIoewogICAgICAgICAgICAvLyAgICdpZCc6ICdwcm9wZXJ0eS1wYXJjZWwtcG9seWdvbnMtc2hwJywKICAgICAgICAgICAgLy8gICAndHlwZSc6ICdmaWxsJywKICAgICAgICAgICAgLy8gICAnc291cmNlJzogJ3Byb3BlcnR5LXBhcmNlbC1wb2x5Z29ucycsCiAgICAgICAgICAgIC8vICAgJ3BhaW50JzogewogICAgICAgICAgICAvLyAgICAgJ2ZpbGwtY29sb3InOiAnIzAwODBmZicsIC8vIGJsdWUgY29sb3IgZmlsbAogICAgICAgICAgICAvLyAgICAgJ2ZpbGwtb3BhY2l0eSc6IDAuMiwKICAgICAgICAgICAgLy8gICB9LAogICAgICAgICAgICAvLyB9KTsKICAgICAgICAgICAgLy8gVGhlICdidWlsZGluZycgbGF5ZXIgaW4gdGhlIE1hcGJveCBTdHJlZXRzCiAgICAgICAgICAgIC8vIHZlY3RvciB0aWxlc2V0IGNvbnRhaW5zIGJ1aWxkaW5nIGhlaWdodCBkYXRhCiAgICAgICAgICAgIC8vIGZyb20gT3BlblN0cmVldE1hcC4KICAgICAgICAgICAgdGhpcy5tYXBib3guYWRkTGF5ZXIoewogICAgICAgICAgICAgICdpZCc6ICdhZGQtM2QtYnVpbGRpbmdzJywKICAgICAgICAgICAgICAnc291cmNlJzogJ2NvbXBvc2l0ZScsCiAgICAgICAgICAgICAgJ3NvdXJjZS1sYXllcic6ICdidWlsZGluZycsCiAgICAgICAgICAgICAgJ2ZpbHRlcic6IFsnPT0nLCAnZXh0cnVkZScsICd0cnVlJ10sCiAgICAgICAgICAgICAgJ3R5cGUnOiAnZmlsbC1leHRydXNpb24nLAogICAgICAgICAgICAgICdtaW56b29tJzogMTIsCiAgICAgICAgICAgICAgJ3BhaW50JzogewogICAgICAgICAgICAgICAgJ2ZpbGwtZXh0cnVzaW9uLWNvbG9yJzogJyNhYWEnLAogICAgICAgICAgICAgICAgLy8gVXNlIGFuICdpbnRlcnBvbGF0ZScgZXhwcmVzc2lvbiB0bwogICAgICAgICAgICAgICAgLy8gYWRkIGEgc21vb3RoIHRyYW5zaXRpb24gZWZmZWN0IHRvCiAgICAgICAgICAgICAgICAvLyB0aGUgYnVpbGRpbmdzIGFzIHRoZSB1c2VyIHpvb21zIGluLgogICAgICAgICAgICAgICAgJ2ZpbGwtZXh0cnVzaW9uLWhlaWdodCc6IFsnaW50ZXJwb2xhdGUnLCBbJ2xpbmVhciddLCBbJ3pvb20nXSwgOSwgMCwgMTUuMDUsIFsnZ2V0JywgJ2hlaWdodCddXSwKICAgICAgICAgICAgICAgICdmaWxsLWV4dHJ1c2lvbi1iYXNlJzogWydpbnRlcnBvbGF0ZScsIFsnbGluZWFyJ10sIFsnem9vbSddLCA5LCAwLCAxNS4wNSwgWydnZXQnLCAnbWluX2hlaWdodCddXSwKICAgICAgICAgICAgICAgIC8vICdmaWxsLWV4dHJ1c2lvbi1oZWlnaHQnOiBbJ2dldCcsICdoZWlnaHQnXSwKICAgICAgICAgICAgICAgICdmaWxsLWV4dHJ1c2lvbi1vcGFjaXR5JzogMC44CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOyAvLyAvLyBBZGQgc3BoZXJlcyB0byBtYXAKICAgICAgICAgIC8vIGNvbnN0IF90aGlzID0gdGhpcwogICAgICAgICAgLy8gdGhpcy5tYXBib3guYWRkTGF5ZXIoewogICAgICAgICAgLy8gICBpZDogImN1c3RvbV9sYXllciIsCiAgICAgICAgICAvLyAgIHR5cGU6ICJjdXN0b20iLAogICAgICAgICAgLy8gICByZW5kZXJpbmdNb2RlOiAiM2QiLAogICAgICAgICAgLy8KICAgICAgICAgIC8vICAgb25BZGQ6IGZ1bmN0aW9uIChtYXAsIG1ieENvbnRleHQpIHsKICAgICAgICAgIC8vICAgICB3aW5kb3cudGIuYWRkKF90aGlzLnNwaGVyZSgtMTIzLjEwNjg2NTgsIDQ5LjI2MjY5ODIpKTsKICAgICAgICAgIC8vICAgICB3aW5kb3cudGIuYWRkKF90aGlzLnNwaGVyZSgtMTIzLjEwODg2NTgsIDQ5LjI2MjY5ODIpKTsKICAgICAgICAgIC8vICAgICBjb25zb2xlLmxvZyhtYXApCiAgICAgICAgICAvLyAgICAgY29uc29sZS5sb2cobWJ4Q29udGV4dCkKICAgICAgICAgIC8vICAgICBsZXQgcHVsc2VPYmogPSB3aW5kb3cudGIKICAgICAgICAgIC8vICAgICAgIC5PYmplY3QzRCh7IG9iajogcHVsc2UsIHVuaXRzOiAibWV0ZXJzIiB9KQogICAgICAgICAgLy8gICAgICAgLnNldENvb3JkcyhbLTEyMy4xMDY4NjU4LCA0OS4yNjI2OTgyLCAwXSk7CiAgICAgICAgICAvLwogICAgICAgICAgLy8gICAgIHB1bHNlT2JqLnNldEFuY2hvcigiYm90dG9tLWxlZnQiKTsKICAgICAgICAgIC8vCiAgICAgICAgICAvLyAgICAgd2luZG93LnRiLmFkZChwdWxzZU9iaik7CiAgICAgICAgICAvLyAgIH0sCiAgICAgICAgICAvLyAgIHJlbmRlcjogZnVuY3Rpb24gKGdsLCBtYXRyaXgpIHsKICAgICAgICAgIC8vICAgICB3aW5kb3cudGIudXBkYXRlKCk7CiAgICAgICAgICAvLyAgICAgX3RoaXMuYW5pbWF0ZVB1bHNlKCk7CiAgICAgICAgICAvLyAgICAgY29uc29sZS5sb2coZ2wpCiAgICAgICAgICAvLyAgICAgY29uc29sZS5sb2cobWF0cml4KQogICAgICAgICAgLy8gICB9LAogICAgICAgICAgLy8gfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGhpcy5nZW5lcmF0ZVBvbHlnb25zKCk7CiAgICB9LAoKICAgIGFkZERyYXdDb250cm9scygpIHsKICAgICAgLy8gQWRkIGRyYXcgY29udHJvbHMKICAgICAgdGhpcy5tYXBib3ggPSB0aGlzLiRzdG9yZS5zdGF0ZS5tYXBib3g7CiAgICAgIGNvbnN0IGRyYXcgPSBuZXcgTWFwYm94RHJhdygpOwogICAgICB0aGlzLm1hcGJveC5hZGRDb250cm9sKGRyYXcsICd0b3AtcmlnaHQnKTsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXREcmF3JywgdGhpcy5kcmF3KTsKICAgICAgdGhpcy5kcmF3ID0gZHJhdzsKICAgIH0sCgogICAgZ2VuZXJhdGVQb2x5Z29ucygpIHsKICAgICAgdGhpcy5tYXBib3ggPSB0aGlzLiRzdG9yZS5zdGF0ZS5tYXBib3g7CiAgICAgIHRoaXMuZHJhdyA9IHRoaXMuJHN0b3JlLnN0YXRlLmRyYXc7CiAgICAgIHRoaXMubWFwYm94Lm9uKCdkcmF3LmNyZWF0ZScsICgpID0+IHsKICAgICAgICB1cGRhdGVBcmVhKHRoaXMuZHJhdyk7CiAgICAgIH0pOwogICAgICB0aGlzLm1hcGJveC5vbignZHJhdy5kZWxldGUnLCAoKSA9PiB7CiAgICAgICAgdXBkYXRlQXJlYSh0aGlzLmRyYXcpOwogICAgICB9KTsKICAgICAgdGhpcy5tYXBib3gub24oJ2RyYXcudXBkYXRlJywgKCkgPT4gewogICAgICAgIHVwZGF0ZUFyZWEodGhpcy5kcmF3KTsKICAgICAgfSk7CiAgICAgIHRoaXMubWFwYm94Lm9uKCdkcmF3LmNyZWF0ZScsICgpID0+IHsKICAgICAgICBjcmVhdGVEcmF3KHRoaXMubWFwYm94LCB0aGlzLmRyYXcsIHRoaXMud2lkdGhSYW5nZSk7CiAgICAgIH0pOwogICAgICB0aGlzLm1hcGJveC5vbignZHJhdy5kZWxldGUnLCAoKSA9PiB7CiAgICAgICAgZGVsZXRlT3V0bGluZURyYXdzKHRoaXMubWFwYm94KTsKICAgICAgfSk7CiAgICAgIHRoaXMubWFwYm94Lm9uKCdkcmF3LnVwZGF0ZScsICgpID0+IHsKICAgICAgICB1cGRhdGVEcmF3KHRoaXMubWFwYm94LCB0aGlzLmRyYXcsIHRoaXMud2lkdGhSYW5nZSk7CiAgICAgIH0pOwogICAgfQoKICB9Cn07"},{"version":3,"sources":["Map.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <div id=\"map\" v-on:draw=\"generatePolygons()\"></div>\n    <div id=\"vue-range-slider\">\n      <RangeSlider v-on:changeValue=\"generatePolygons()\"/>\n    </div>\n  </div>\n</template>\n\n<script>\nimport mapboxgl from \"mapbox-gl\";\nimport * as MapboxDraw from 'mapbox-gl-draw';\nimport threebox from \"threebox-plugin/dist/threebox\";\nimport { Threebox } from 'threebox-plugin';\nimport Pulse from \"./Pulses/Pulse\";\nimport * as turf from '@turf/turf';\nimport RangeSlider from \"./RangeSlider\"\n\n\nlet pulse = new Pulse(400, 4000, true);\nthreebox\n\n\n// Calculate the area of drawn polygons\nexport function updateArea(draw) {\n    const data = draw.getAll();\n    const answer = document.getElementById('calculated-area');\n    if (data.features.length > 0) {\n      const area = turf.area(data);\n\n      // Restrict the area to 2 decimal points.\n      const rounded_area = Math.round(area * 100) / 100;\n      answer.innerHTML = `<p><strong>${rounded_area}</strong> mÂ²</p>`;\n    } else {\n      answer.innerHTML = '';\n      // if (e.type !== 'draw.delete')\n      //   alert('Click the map to draw a polygon.');\n  }\n}\n\n\n// Returns true if finds a defined key in the input array of dictionaries\nexport function keyInDictionary (dictionaries, keyToFind) {\n    for (var i in dictionaries) {\n        if (dictionaries[i]['id'] == keyToFind) {\n            return true\n        }\n    }\n}\n\n\n// Returns a list of centroids of multiple LineStrings\nexport function lineCentroids(lines) {\n  const centroids = [];\n  for (let i = 0; i < lines.features.length; i++) {\n    const line = turf.lineString(lines.features[i])\n    const ctr = turf.centroid(line['geometry']['coordinates'])\n    centroids.push(ctr)\n  }\n  return centroids\n}\n\n\n// Returns points along a LineString divided according to a specified length in meters\nexport function divideLineString(line, length=100) {\n  const chunks = turf.lineChunk(line, length, {units: 'meters'})\n  return lineCentroids(chunks)\n}\n\n\n// Extract drawn shape and convert it to a polygon\nexport function getPolygonDrawn(draw){\n  const data = draw.getAll()\n  return turf.polygon(data.features[0]['geometry']['coordinates'])\n}\n\n\n// Extract internal skeleton of a shape\nexport function voronoiSkeleton(draw){\n  const pol = getPolygonDrawn(draw)\n  const line = turf.polygonToLine(pol)\n  const chunks = turf.lineChunk(line, 0.01)\n  const centroids = lineCentroids(chunks)\n  const centroids_gj = {\n    \"type\": \"FeatureCollection\",\n    \"features\": centroids\n  }\n  const voronoi = turf.voronoi(centroids_gj)\n  // Iterate over voronoi polygons to extract segments inside drawing\n  const voronoiLines = [];\n  for (let i = 0; i < voronoi.features.length; i++) {\n    const voronoiPolygon = turf.polygon(voronoi.features[i]['geometry']['coordinates']);\n    const voronoiLine = turf.polygonToLine(voronoiPolygon)\n    const voronoiSegments = turf.lineSegment(voronoiLine)\n    for (let i = 0; i < voronoiSegments.features.length; i++) {\n      const segmentCentroid = turf.centroid(voronoiSegments.features[i])\n      if (turf.booleanContains(pol, segmentCentroid)) {\n        voronoiLines.push(voronoiSegments.features[i])\n      }\n    }\n  }\n  const voronoiLinesGeoJSON = {\n    \"type\": \"FeatureCollection\",\n    \"features\": voronoiLines\n  }\n  const voronoiLinesCombined = turf.combine(voronoiLinesGeoJSON)\n  const voronoiLinesSimplified = turf.simplify(voronoiLinesCombined,\n    {tolerance: 5, mutate: true})\n  return voronoiLinesSimplified\n}\n\n\n// Generate skeleton and buffer according to some number of iterations\nexport function bufferDrawSkeleton(skeleton) {\n  const bufferedSkeletons = []\n  for (let i = 0; i < 3; i++) {\n    const skeletonBuffer = turf.buffer(skeleton, 30 * (i+1), {units: 'meters'})\n    const dissolvedSkeleton = turf.dissolve(skeletonBuffer)\n    bufferedSkeletons.push(turf.lineString(dissolvedSkeleton.features[0]['geometry']['coordinates'][0]))\n  }\n  return bufferedSkeletons\n}\n\n\n// Subdivide a drawn shape using Voronoi patterns\nexport function subdivideShape(draw) {\n  const output = {}\n  const skeleton = voronoiSkeleton(draw)\n  output.skeleton = skeleton.features\n  const skeletonBufferSmall = turf.buffer(skeleton, 0.1, {units: 'meters'}).features[0]\n  const skeletonLine = turf.polygonToLine(skeletonBufferSmall)\n  const dividedSkeleton = divideLineString(turf.combine(skeletonLine))\n  const voronoiSkeletonBuffers = bufferDrawSkeleton(skeleton)\n  output.voronoiSkeletonBuffers = voronoiSkeletonBuffers\n  output.perpendicularLines = []\n  for (let i = 0; i < dividedSkeleton.length; i++) {\n    var originalPoint = dividedSkeleton[i]\n    const nearestPoints = [originalPoint['geometry']['coordinates']]\n    for (let j = 0; j < voronoiSkeletonBuffers.length; j++) {\n      const buffer = voronoiSkeletonBuffers[j]\n      const nextPoint = turf.nearestPointOnLine(buffer, turf.point(originalPoint['geometry']['coordinates']))\n      nearestPoints.push(nextPoint['geometry']['coordinates'])\n      originalPoint = nextPoint\n    }\n    output.perpendicularLines.push(turf.lineString(nearestPoints))\n  }\n  console.log(output)\n  return output\n}\n\n// Buffer generated lines according to buffer range and subtract from original drawing\nexport function generateBlocks(draw, bufferRange) {\n  const bufferOptions = {units: 'meters'}\n  const subdivisions = subdivideShape(draw)\n  const skeletonBuffer = turf.buffer(subdivisions.skeleton[0], bufferRange[1]/2, bufferOptions)\n  const perpendicularsBuffered = turf.buffer(turf.featureCollection(subdivisions.perpendicularLines), (bufferRange[0] + bufferRange[1])/4, bufferOptions)\n  const parallelsBuffered = turf.buffer(turf.featureCollection(subdivisions.voronoiSkeletonBuffers), bufferRange[0]/2, bufferOptions)\n  const allBuffers = turf.featureCollection(perpendicularsBuffered.features.concat(parallelsBuffered.features, skeletonBuffer))\n  const bufferedCenterlines = turf.dissolve(allBuffers)\n  const difference = turf.difference(getPolygonDrawn(draw), bufferedCenterlines.features[0])\n  return difference\n}\n\n\nexport function deleteOutlineDraws(map) {\n  if (keyInDictionary(map.getStyle().layers, 'outline')) {\n    map.removeLayer('outline')\n  }\n  if ('draw' in map.getStyle().sources) {\n    map.removeSource('draw')\n  }\n}\n\n\nexport function updateDraw(mapbox, draw, widthRange) {\n  deleteOutlineDraws(mapbox)\n  mapbox.addSource('draw', {\n    'type': 'geojson',\n    'data': generateBlocks(draw, widthRange),\n  });\n  mapbox.addLayer({\n    'id': 'outline',\n    'type': 'fill',\n    'source': 'draw',\n    'paint': {\n      'fill-color': '#06be7f' // red color\n    }\n  });\n}\n\n\nexport function createDraw(mapbox, draw, widthRange) {\n  widthRange\n  mapbox.addSource('draw', {\n    'type': 'geojson',\n    'data': generateBlocks(draw, widthRange),\n  });\n  mapbox.addLayer({\n    'id': 'outline',\n    'type': 'fill',\n    'source': 'draw',\n    'paint': {\n      'fill-color': '#06be7f',\n    }\n  });\n}\n\n\nexport default {\n  name: \"ThreeboxExample\",\n\n  mounted() {\n    this.$store.dispatch('loadMap')\n    this.$store.dispatch('setDraw')\n    // this.$store.dispatch('generatePolygons')\n    // this.initMap()\n    // this.addDrawControls()\n    this.generatePolygons()\n  },\n  computed: {\n    accessToken(){\n      return this.$store.state.accessToken\n    },\n    getDraw(){\n      return this.$store.getters.draw\n    },\n    widthRange(){\n      return this.$store.state.widthRange\n    },\n    getMap(){\n      return this.$store.state.mapbox\n    },\n  },\n  components: {\n    RangeSlider\n  },\n  methods: {\n    // loadMap (context) {\n    //   mapboxgl.accessToken = this.state.accessToken\n    //   var mapbox = new mapboxgl.Map({\n    //     container: \"map\",\n    //     interactive: true,\n    //     style:  \"mapbox://styles/mapbox/dark-v10\",\n    //     zoom: 16,\n    //     center: [-123.1068658, 49.2626982],\n    //     pitch: 60,\n    //     bearing: 360,\n    //     antialias: true,\n    //     attributionControl: false\n    //   })\n    //   context.commit('loadMap', mapbox)\n    // },\n    // setDraw (context) {\n    //   // Add draw controls\n    //   const draw = new MapboxDraw();\n    //   this.state.mapbox.addControl(draw, 'top-right');\n    //   context.commit('setDraw', this.draw)\n    // },\n    sphere(lon, lat) {\n      let origin = [lon, lat, 0];\n      return window.tb\n        .sphere({ color: \"red\", material: \"MeshToonMaterial\" })\n        .setCoords(origin);\n    },\n    animatePulse() {\n      pulse.update();\n      this.mapbox.triggerRepaint();\n    },\n    initMap() {\n      mapboxgl.accessToken = this.accessToken;\n      this.mapbox = new mapboxgl.Map({\n        container: \"map\",\n        interactive: true,\n        style:  \"mapbox://styles/mapbox/dark-v10\",\n        zoom: 16,\n        center: [-123.1068658, 49.2626982],\n        pitch: 60,\n        bearing: 360,\n        antialias: true,\n        attributionControl: false\n      }).on(\"style.load\", () => {\n        window.tb = new Threebox(\n          this.mapbox,\n          this.mapbox.getCanvas().getContext(\"webgl\"), {\n            defaultLights: true,\n          }\n        );\n\n        // Add draw control\n        if (this.mapbox.getLayer(\"custom_layer\") == null) {\n\n          this.mapbox.on('load', () => {\n\n            // // Add 3D terrain\n            // this.mapbox.addSource('mapbox-dem', {\n            //   'type': 'raster-dem',\n            //   'url': 'mapbox://mapbox.mapbox-terrain-dem-v1',\n            //   'tileSize': 512,\n            //   'maxzoom': 20\n            // });\n            //\n            // // add the DEM source as a terrain layer with exaggerated height\n            // this.mapbox.setTerrain({ 'source': 'mapbox-dem', 'exaggeration': 1.5 });\n\n            // // Add parcels layer source (CoV)\n            // this.mapbox.addSource('property-parcel-polygons', {\n            //   'type': 'geojson',\n            //   'data': 'https://raw.githubusercontent.com/nicholasmartino/vue-threebox/master/public/data/property-parcel-polygons.geojson',\n            // });\n            //\n            // // Add parcels layer to map\n            // this.mapbox.addLayer({\n            //   'id': 'property-parcel-polygons-shp',\n            //   'type': 'fill',\n            //   'source': 'property-parcel-polygons',\n            //   'paint': {\n            //     'fill-color': '#0080ff', // blue color fill\n            //     'fill-opacity': 0.2,\n            //   },\n            // });\n\n            // The 'building' layer in the Mapbox Streets\n            // vector tileset contains building height data\n            // from OpenStreetMap.\n            this.mapbox.addLayer({\n              'id': 'add-3d-buildings',\n              'source': 'composite',\n              'source-layer': 'building',\n              'filter': ['==', 'extrude', 'true'],\n              'type': 'fill-extrusion',\n              'minzoom': 12,\n              'paint': {\n                'fill-extrusion-color': '#aaa',\n\n                // Use an 'interpolate' expression to\n                // add a smooth transition effect to\n                // the buildings as the user zooms in.\n                'fill-extrusion-height': [\n                  'interpolate',\n                  ['linear'],\n                  ['zoom'],\n                  9,\n                  0,\n                  15.05,\n                  ['get', 'height']\n                ],\n                'fill-extrusion-base': [\n                  'interpolate',\n                  ['linear'],\n                  ['zoom'],\n                  9,\n                  0,\n                  15.05,\n                  ['get', 'min_height']\n                ],\n\n                // 'fill-extrusion-height': ['get', 'height'],\n                'fill-extrusion-opacity': 0.8,\n              },\n            });\n          });\n\n          // // Add spheres to map\n          // const _this = this\n          // this.mapbox.addLayer({\n          //   id: \"custom_layer\",\n          //   type: \"custom\",\n          //   renderingMode: \"3d\",\n          //\n          //   onAdd: function (map, mbxContext) {\n          //     window.tb.add(_this.sphere(-123.1068658, 49.2626982));\n          //     window.tb.add(_this.sphere(-123.1088658, 49.2626982));\n          //     console.log(map)\n          //     console.log(mbxContext)\n          //     let pulseObj = window.tb\n          //       .Object3D({ obj: pulse, units: \"meters\" })\n          //       .setCoords([-123.1068658, 49.2626982, 0]);\n          //\n          //     pulseObj.setAnchor(\"bottom-left\");\n          //\n          //     window.tb.add(pulseObj);\n          //   },\n          //   render: function (gl, matrix) {\n          //     window.tb.update();\n          //     _this.animatePulse();\n          //     console.log(gl)\n          //     console.log(matrix)\n          //   },\n          // });\n\n        }\n      });\n      this.generatePolygons()\n    },\n    addDrawControls() {\n      // Add draw controls\n      this.mapbox = this.$store.state.mapbox\n      const draw = new MapboxDraw();\n      this.mapbox.addControl(draw, 'top-right');\n      this.$store.commit('setDraw', this.draw)\n      this.draw = draw\n    },\n    generatePolygons() {\n      this.mapbox = this.$store.state.mapbox\n      this.draw = this.$store.state.draw\n\n      this.mapbox.on('draw.create', () => {\n        updateArea(this.draw)\n      })\n      this.mapbox.on('draw.delete', () => {\n        updateArea(this.draw)\n      })\n      this.mapbox.on('draw.update', () => {\n        updateArea(this.draw)\n      })\n\n      this.mapbox.on('draw.create', () => {\n        createDraw(this.mapbox, this.draw, this.widthRange)\n      });\n\n      this.mapbox.on('draw.delete', () => {\n        deleteOutlineDraws(this.mapbox)\n      });\n\n      this.mapbox.on('draw.update', () => {\n        updateDraw(this.mapbox, this.draw, this.widthRange)\n      });\n    }\n  },\n};\n\n\n\n</script>\n\n\n<style>\n#map {\n  position: absolute;\n  width: 100vw;\n  height: 100vh;\n}\n@import \"https://api.mapbox.com/mapbox-gl-js/v0.42.0/mapbox-gl.css\";\n@import \"https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-draw/v1.2.2/mapbox-gl-draw.css\";\n@import \"https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.css\";\n.mapboxgl-ctrl-group button {\n    width: 29px;\n    height: 29px;\n    display: block;\n    padding: 0;\n    outline: none;\n    border: 0;\n    box-sizing: border-box;\n    background-color: transparent;\n    cursor: pointer;\n    overflow: hidden;\n}\n.mapboxgl-ctrl-top-right {\n    top: 0;\n    right: 0;\n    position: absolute;\n}\n.marker:before {\n  content: \"\";\n  cursor: pointer;\n  position: absolute;\n  width: 25px;\n  height: 25px;\n  border: 1px solid #ccc;\n  border-radius: 75% 45% 75% 0%;\n  background: #3498db;\n  bottom: 0;\n  transform-origin: 0% 100%;\n  transform: rotate(-45deg) scale(1);\n}\n</style>\n"],"sourceRoot":"src/components"}]}