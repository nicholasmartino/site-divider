{"remainingRequest":"/Users/nicholasmartino/JavaScript/site-divider/node_modules/thread-loader/dist/cjs.js!/Users/nicholasmartino/JavaScript/site-divider/node_modules/babel-loader/lib/index.js!/Users/nicholasmartino/JavaScript/site-divider/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--12-0!/Users/nicholasmartino/JavaScript/site-divider/src/components/Pulses/Pulse.js","dependencies":[{"path":"/Users/nicholasmartino/JavaScript/site-divider/src/components/Pulses/Pulse.js","mtime":1637711556000},{"path":"/Users/nicholasmartino/JavaScript/site-divider/node_modules/cache-loader/dist/cjs.js","mtime":1639173070060},{"path":"/Users/nicholasmartino/JavaScript/site-divider/node_modules/thread-loader/dist/cjs.js","mtime":1639173069963},{"path":"/Users/nicholasmartino/JavaScript/site-divider/node_modules/babel-loader/lib/index.js","mtime":1639173071039},{"path":"/Users/nicholasmartino/JavaScript/site-divider/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js","mtime":1639173070345}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8gQmFzZWQgb24gaHR0cHM6Ly9jb2Rlc2FuZGJveC5pby9zL3JvbWFudGljLWRoYXdhbi11M3BnNT9maWxlPS9zcmMvaW5kZXguanMKaW1wb3J0IENpcmNsZUxpbmVHZW9tZXRyeSBmcm9tICIuL0NpcmNsZUxpbmVHZW9tZXRyeSI7CmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFB1bHNlKHJhZGl1cywgZHVyYXRpb24gPSA0MDAwLCBhdXRvU3RhcnQgPSB0cnVlKSB7CiAgVEhSRUUuT2JqZWN0M0QuY2FsbCh0aGlzKTsKICB0aGlzLmR1cmF0aW9uID0gZHVyYXRpb247CiAgY29uc3Qgc2VnbWVudHMgPSAzMjsKICBjb25zdCBkaXNjQ29sb3IgPSAicmdiKDE2MiwgMjgsIDE3NSkiOwogIGNvbnN0IGxpbmVDb2xvciA9IGRpc2NDb2xvcjsKICBjb25zdCBkaXNjR2VvbWV0cnkgPSBuZXcgVEhSRUUuQ2lyY2xlR2VvbWV0cnkocmFkaXVzLCBzZWdtZW50cyk7CiAgY29uc3QgZGlzY01hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hMYW1iZXJ0TWF0ZXJpYWwoewogICAgc2lkZTogVEhSRUUuRG91YmxlU2lkZSwKICAgIGNvbG9yOiBkaXNjQ29sb3IsCiAgICB0cmFuc3BhcmVudDogdHJ1ZSwKICAgIG9wYWNpdHk6IDAuOAogIH0pOwogIHRoaXMuZGlzYyA9IG5ldyBUSFJFRS5NZXNoKGRpc2NHZW9tZXRyeSwgZGlzY01hdGVyaWFsKTsKICB0aGlzLmFkZCh0aGlzLmRpc2MpOwogIGNvbnN0IGxpbmVHZW9tZXRyeSA9IG5ldyBDaXJjbGVMaW5lR2VvbWV0cnkocmFkaXVzLCBzZWdtZW50cyk7CiAgY29uc3QgbGluZU1hdGVyaWFsID0gbmV3IFRIUkVFLkxpbmVCYXNpY01hdGVyaWFsKHsKICAgIGNvbG9yOiBsaW5lQ29sb3IsCiAgICBsaW5ld2lkdGg6IDEsCiAgICB0cmFuc3BhcmVudDogdHJ1ZSwKICAgIG9wYWNpdHk6IDEKICB9KTsKICB0aGlzLmxpbmUgPSBuZXcgVEhSRUUuTGluZShsaW5lR2VvbWV0cnksIGxpbmVNYXRlcmlhbCk7CiAgdGhpcy5hZGQodGhpcy5saW5lKTsKCiAgaWYgKGF1dG9TdGFydCkgewogICAgdGhpcy5zdGFydCgpOwogIH0KfQpQdWxzZS5wcm90b3R5cGUgPSBPYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoVEhSRUUuT2JqZWN0M0QucHJvdG90eXBlKSwgewogIGNvbnN0cnVjdG9yOiBQdWxzZSwKCiAgc3RhcnQoKSB7CiAgICB0aGlzLnN0YXJ0ZWQgPSBuZXcgRGF0ZSgpOwogIH0sCgogIHN0b3AoKSB7CiAgICB0aGlzLnN0YXJ0ZWQgPSBudWxsOwogIH0sCgogIHVwZGF0ZSgpIHsKICAgIGlmICghdGhpcy5zdGFydGVkKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpOwogICAgY29uc3QgdGltZUVsYXBzZWQgPSBub3cgLSB0aGlzLnN0YXJ0ZWQ7CiAgICBsZXQgcGVyY2VudEVsYXBzZWQgPSB0aW1lRWxhcHNlZCAvIHRoaXMuZHVyYXRpb247CgogICAgaWYgKHBlcmNlbnRFbGFwc2VkID49IDEpIHsKICAgICAgcGVyY2VudEVsYXBzZWQgLT0gTWF0aC5mbG9vcihwZXJjZW50RWxhcHNlZCk7CiAgICB9CgogICAgY29uc3Qgb3BhY2l0eSA9IDEgLSBwZXJjZW50RWxhcHNlZDsKICAgIGxldCBzY2FsZSA9IHBlcmNlbnRFbGFwc2VkOwoKICAgIGlmIChzY2FsZSA8PSAwKSB7CiAgICAgIHNjYWxlID0gMC4wMDE7CiAgICB9CgogICAgdGhpcy5zY2FsZS5zZXQoc2NhbGUsIHNjYWxlLCBzY2FsZSk7CiAgICB0aGlzLmxpbmUubWF0ZXJpYWwub3BhY2l0eSA9IG9wYWNpdHk7CiAgICB0aGlzLmRpc2MubWF0ZXJpYWwub3BhY2l0eSA9IG9wYWNpdHkgKiAwLjM1OwogIH0KCn0pOw=="},{"version":3,"sources":["/Users/nicholasmartino/JavaScript/site-divider/src/components/Pulses/Pulse.js"],"names":["CircleLineGeometry","Pulse","radius","duration","autoStart","THREE","Object3D","call","segments","discColor","lineColor","discGeometry","CircleGeometry","discMaterial","MeshLambertMaterial","side","DoubleSide","color","transparent","opacity","disc","Mesh","add","lineGeometry","lineMaterial","LineBasicMaterial","linewidth","line","Line","start","prototype","Object","assign","create","constructor","started","Date","stop","update","now","timeElapsed","percentElapsed","Math","floor","scale","set","material"],"mappings":"AAAA;AAEA,OAAOA,kBAAP,MAA+B,sBAA/B;AAEA,eAAe,SAASC,KAAT,CAAeC,MAAf,EAAuBC,QAAQ,GAAG,IAAlC,EAAwCC,SAAS,GAAG,IAApD,EAA0D;AACvEC,EAAAA,KAAK,CAACC,QAAN,CAAeC,IAAf,CAAoB,IAApB;AAEA,OAAKJ,QAAL,GAAgBA,QAAhB;AACA,QAAMK,QAAQ,GAAG,EAAjB;AACA,QAAMC,SAAS,GAAG,mBAAlB;AACA,QAAMC,SAAS,GAAGD,SAAlB;AAEA,QAAME,YAAY,GAAG,IAAIN,KAAK,CAACO,cAAV,CAAyBV,MAAzB,EAAiCM,QAAjC,CAArB;AACA,QAAMK,YAAY,GAAG,IAAIR,KAAK,CAACS,mBAAV,CAA8B;AACjDC,IAAAA,IAAI,EAAEV,KAAK,CAACW,UADqC;AAEjDC,IAAAA,KAAK,EAAER,SAF0C;AAGjDS,IAAAA,WAAW,EAAE,IAHoC;AAIjDC,IAAAA,OAAO,EAAE;AAJwC,GAA9B,CAArB;AAMA,OAAKC,IAAL,GAAY,IAAIf,KAAK,CAACgB,IAAV,CAAeV,YAAf,EAA6BE,YAA7B,CAAZ;AACA,OAAKS,GAAL,CAAS,KAAKF,IAAd;AAEA,QAAMG,YAAY,GAAG,IAAIvB,kBAAJ,CAAuBE,MAAvB,EAA+BM,QAA/B,CAArB;AACA,QAAMgB,YAAY,GAAG,IAAInB,KAAK,CAACoB,iBAAV,CAA4B;AAC/CR,IAAAA,KAAK,EAAEP,SADwC;AAE/CgB,IAAAA,SAAS,EAAE,CAFoC;AAG/CR,IAAAA,WAAW,EAAE,IAHkC;AAI/CC,IAAAA,OAAO,EAAE;AAJsC,GAA5B,CAArB;AAMA,OAAKQ,IAAL,GAAY,IAAItB,KAAK,CAACuB,IAAV,CAAeL,YAAf,EAA6BC,YAA7B,CAAZ;AACA,OAAKF,GAAL,CAAS,KAAKK,IAAd;;AAEA,MAAIvB,SAAJ,EAAe;AACb,SAAKyB,KAAL;AACD;AACF;AAED5B,KAAK,CAAC6B,SAAN,GAAkBC,MAAM,CAACC,MAAP,CAAcD,MAAM,CAACE,MAAP,CAAc5B,KAAK,CAACC,QAAN,CAAewB,SAA7B,CAAd,EAAuD;AACvEI,EAAAA,WAAW,EAAEjC,KAD0D;;AAGvE4B,EAAAA,KAAK,GAAG;AACN,SAAKM,OAAL,GAAe,IAAIC,IAAJ,EAAf;AACD,GALsE;;AAOvEC,EAAAA,IAAI,GAAG;AACL,SAAKF,OAAL,GAAe,IAAf;AACD,GATsE;;AAWvEG,EAAAA,MAAM,GAAG;AACP,QAAI,CAAC,KAAKH,OAAV,EAAmB;AACjB;AACD;;AACD,UAAMI,GAAG,GAAG,IAAIH,IAAJ,EAAZ;AACA,UAAMI,WAAW,GAAGD,GAAG,GAAG,KAAKJ,OAA/B;AACA,QAAIM,cAAc,GAAGD,WAAW,GAAG,KAAKrC,QAAxC;;AACA,QAAIsC,cAAc,IAAI,CAAtB,EAAyB;AACvBA,MAAAA,cAAc,IAAIC,IAAI,CAACC,KAAL,CAAWF,cAAX,CAAlB;AACD;;AAED,UAAMtB,OAAO,GAAG,IAAIsB,cAApB;AAEA,QAAIG,KAAK,GAAGH,cAAZ;;AACA,QAAIG,KAAK,IAAI,CAAb,EAAgB;AACdA,MAAAA,KAAK,GAAG,KAAR;AACD;;AAED,SAAKA,KAAL,CAAWC,GAAX,CAAeD,KAAf,EAAsBA,KAAtB,EAA6BA,KAA7B;AACA,SAAKjB,IAAL,CAAUmB,QAAV,CAAmB3B,OAAnB,GAA6BA,OAA7B;AACA,SAAKC,IAAL,CAAU0B,QAAV,CAAmB3B,OAAnB,GAA6BA,OAAO,GAAG,IAAvC;AACD;;AAhCsE,CAAvD,CAAlB","sourcesContent":["// Based on https://codesandbox.io/s/romantic-dhawan-u3pg5?file=/src/index.js\n\nimport CircleLineGeometry from \"./CircleLineGeometry\";\n\nexport default function Pulse(radius, duration = 4000, autoStart = true) {\n  THREE.Object3D.call(this);\n\n  this.duration = duration;\n  const segments = 32;\n  const discColor = \"rgb(162, 28, 175)\";\n  const lineColor = discColor;\n\n  const discGeometry = new THREE.CircleGeometry(radius, segments);\n  const discMaterial = new THREE.MeshLambertMaterial({\n    side: THREE.DoubleSide,\n    color: discColor,\n    transparent: true,\n    opacity: 0.8\n  });\n  this.disc = new THREE.Mesh(discGeometry, discMaterial);\n  this.add(this.disc);\n\n  const lineGeometry = new CircleLineGeometry(radius, segments);\n  const lineMaterial = new THREE.LineBasicMaterial({\n    color: lineColor,\n    linewidth: 1,\n    transparent: true,\n    opacity: 1\n  });\n  this.line = new THREE.Line(lineGeometry, lineMaterial);\n  this.add(this.line);\n\n  if (autoStart) {\n    this.start();\n  }\n}\n\nPulse.prototype = Object.assign(Object.create(THREE.Object3D.prototype), {\n  constructor: Pulse,\n\n  start() {\n    this.started = new Date();\n  },\n\n  stop() {\n    this.started = null;\n  },\n\n  update() {\n    if (!this.started) {\n      return;\n    }\n    const now = new Date();\n    const timeElapsed = now - this.started;\n    let percentElapsed = timeElapsed / this.duration;\n    if (percentElapsed >= 1) {\n      percentElapsed -= Math.floor(percentElapsed);\n    }\n\n    const opacity = 1 - percentElapsed;\n\n    let scale = percentElapsed;\n    if (scale <= 0) {\n      scale = 0.001;\n    }\n\n    this.scale.set(scale, scale, scale);\n    this.line.material.opacity = opacity;\n    this.disc.material.opacity = opacity * 0.35;\n  }\n});\n"]}]}