{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?0cd3","webpack:///./src/components/AreaBox.vue?ddb1","webpack:///./src/components/TextInput.vue?a93a","webpack:///./src/components/Map.vue?32f8","webpack:///./src/App.vue?6e2f","webpack:///./src/components/Map.vue?5d0b","webpack:///./src/components/Pulses/CircleLineGeometry.js","webpack:///./src/components/Pulses/Pulse.js","webpack:///./src/components/RangeSlider.vue?fbc2","webpack:///src/components/RangeSlider.vue","webpack:///./src/components/RangeSlider.vue?5d97","webpack:///./src/components/RangeSlider.vue?860b","webpack:///src/components/Map.vue","webpack:///./src/components/Map.vue?32bf","webpack:///./src/components/Map.vue?d88b","webpack:///./src/components/AreaBox.vue?5cf4","webpack:///./src/components/AreaBox.vue?a1a4","webpack:///./src/components/TextInput.vue?b404","webpack:///src/components/TextInput.vue","webpack:///./src/components/TextInput.vue?1617","webpack:///./src/components/TextInput.vue?77b3","webpack:///src/App.vue","webpack:///./src/App.vue?6c8e","webpack:///./src/App.vue?622c","webpack:///./src/store/store.js","webpack:///./src/main.js","webpack:///./src/components/RangeSlider.vue?65ff"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","on","$event","generatePolygons","CircleLineGeometry","radius","segments","thetaStart","thetaLength","args","Math","PI","geometry","THREE","Geometry","delta","angle","x","cos","y","sin","vertices","Vector3","Pulse","duration","autoStart","Object3D","discColor","lineColor","discGeometry","CircleGeometry","discMaterial","MeshLambertMaterial","side","DoubleSide","color","transparent","opacity","disc","Mesh","add","lineGeometry","lineMaterial","LineBasicMaterial","linewidth","line","Line","start","assign","constructor","started","Date","stop","update","now","timeElapsed","percentElapsed","floor","scale","set","material","staticClass","min","max","formatter","changeValue","model","callback","$$v","expression","components","VueRangeSlider","methods","$store","commit","component","pulse","updateArea","draw","keyInDictionary","lineCentroids","lines","centroids","features","ctr","divideLineString","chunks","getPolygonDrawn","getAll","voronoiSkeleton","pol","centroids_gj","voronoi","voronoiLines","voronoiPolygon","voronoiLine","voronoiSegments","segmentCentroid","voronoiLinesGeoJSON","voronoiLinesCombined","voronoiLinesSimplified","bufferDrawSkeleton","skeleton","bufferedSkeletons","skeletonBuffer","dissolvedSkeleton","subdivideShape","output","skeletonBufferSmall","skeletonLine","dividedSkeleton","voronoiSkeletonBuffers","perpendicularLines","originalPoint","nearestPoints","buffer","nextPoint","generateBlocks","bufferRange","bufferOptions","subdivisions","perpendicularsBuffered","parallelsBuffered","allBuffers","concat","allBuffersCoords","console","log","coordinates","difference","simplified","deleteOutlineDraws","map","getStyle","layers","removeLayer","sources","removeSource","mapbox","addSource","widthRange","addLayer","createDraw","dispatch","computed","state","accessToken","getters","RangeSlider","lon","lat","origin","tb","triggerRepaint","container","interactive","style","zoom","center","pitch","bearing","antialias","attributionControl","getLayer","addControl","updateDraw","script","_m","filterInput","document","getElementById","addEventListener","e","Map","AreaBox","TextInput","Vue","use","Vuex","store","Store","polygons","getDraw","mutations","setRange","setDraw","loadMap","actions","context","mapboxgl","Threebox","getCanvas","getContext","defaultLights","setTerrain","MapboxDraw","config","productionTip","h","App","$mount"],"mappings":"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","file":"js/app.82d7b13b.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/site-divider/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AreaBox.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextInput.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{attrs:{\"id\":\"app\"}},[_c('Map')],1),_c('div',{attrs:{\"id\":\"area_box\"}},[_c('AreaBox')],1),_c('div',{attrs:{\"id\":\"text_input\"}},[_c('TextInput')],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{attrs:{\"id\":\"map\"},on:{\"draw\":function($event){return _vm.generatePolygons()}}}),_c('div',{attrs:{\"id\":\"vue-range-slider\"}},[_c('RangeSlider',{on:{\"changeValue\":function($event){return _vm.generatePolygons()}}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Based on https://codesandbox.io/s/romantic-dhawan-u3pg5?file=/src/index.js\n\nexport default function CircleLineGeometry(\n  radius,\n  segments,\n  thetaStart,\n  thetaLength\n) {\n  const args = {\n    radius: radius || 50,\n    segments: segments || 8,\n    thetaStart: thetaStart || 0,\n    thetaLength: thetaLength || 2 * Math.PI\n  };\n  const geometry = new THREE.Geometry();\n  const delta =\n    (args.thetaStart + args.thetaLength - args.thetaStart) / args.segments;\n  for (let i = 0; i <= args.segments; i += 1) {\n    const angle = args.thetaStart + delta * i;\n    const x = args.radius * Math.cos(angle);\n    const y = args.radius * Math.sin(angle);\n    geometry.vertices.push(new THREE.Vector3(x, y, 0));\n  }\n  return geometry;\n}\n","// Based on https://codesandbox.io/s/romantic-dhawan-u3pg5?file=/src/index.js\n\nimport CircleLineGeometry from \"./CircleLineGeometry\";\n\nexport default function Pulse(radius, duration = 4000, autoStart = true) {\n  THREE.Object3D.call(this);\n\n  this.duration = duration;\n  const segments = 32;\n  const discColor = \"rgb(162, 28, 175)\";\n  const lineColor = discColor;\n\n  const discGeometry = new THREE.CircleGeometry(radius, segments);\n  const discMaterial = new THREE.MeshLambertMaterial({\n    side: THREE.DoubleSide,\n    color: discColor,\n    transparent: true,\n    opacity: 0.8\n  });\n  this.disc = new THREE.Mesh(discGeometry, discMaterial);\n  this.add(this.disc);\n\n  const lineGeometry = new CircleLineGeometry(radius, segments);\n  const lineMaterial = new THREE.LineBasicMaterial({\n    color: lineColor,\n    linewidth: 1,\n    transparent: true,\n    opacity: 1\n  });\n  this.line = new THREE.Line(lineGeometry, lineMaterial);\n  this.add(this.line);\n\n  if (autoStart) {\n    this.start();\n  }\n}\n\nPulse.prototype = Object.assign(Object.create(THREE.Object3D.prototype), {\n  constructor: Pulse,\n\n  start() {\n    this.started = new Date();\n  },\n\n  stop() {\n    this.started = null;\n  },\n\n  update() {\n    if (!this.started) {\n      return;\n    }\n    const now = new Date();\n    const timeElapsed = now - this.started;\n    let percentElapsed = timeElapsed / this.duration;\n    if (percentElapsed >= 1) {\n      percentElapsed -= Math.floor(percentElapsed);\n    }\n\n    const opacity = 1 - percentElapsed;\n\n    let scale = percentElapsed;\n    if (scale <= 0) {\n      scale = 0.001;\n    }\n\n    this.scale.set(scale, scale, scale);\n    this.line.material.opacity = opacity;\n    this.disc.material.opacity = opacity * 0.35;\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vue-range-slider\"},[_c('vue-range-slider',{attrs:{\"min\":_vm.min,\"max\":_vm.max,\"formatter\":_vm.formatter},on:{\"slide-end\":_vm.changeValue},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"vue-range-slider\">\n    <vue-range-slider v-model=\"value\" :min=\"min\" :max=\"max\" :formatter=\"formatter\" @slide-end='changeValue'></vue-range-slider>\n  </div>\n</template>\n\n<script>\nimport 'vue-range-component/dist/vue-range-slider.css'\nimport VueRangeSlider from 'vue-range-component'\n\nexport default {\n\n  data() {\n    return {\n      value: [6, 10]\n    }\n  },\n  components: {\n    VueRangeSlider\n  },\n  created() {\n    this.min = 1\n    this.max = 30\n    this.formatter = value => `${value}m`\n  },\n  methods: {\n    changeValue() {\n      // this.$emit('changeValue', this.value);\n      this.$store.commit('setRange', this.value)\n      this.$store.commit('generatePolygons')\n    }\n  }\n}\n</script>\n\n<style>\n#vue-range-slider {\n  position: absolute;\n  width: 200px;\n  float: left;\n  top: 100px;\n  left: 10px;\n  z-index: 1;\n}\n.vue-range-slider.slider-component .slider .slider-process {\n  background-color: #06be7f;\n}\n.vue-range-slider.slider-component .slider-tooltip-wrap .slider-tooltip {\n  border: #06be7f;\n  background-color: #06be7f;\n  font-family: Avenir;\n  opacity: 0.8;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RangeSlider.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RangeSlider.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RangeSlider.vue?vue&type=template&id=78c48025&\"\nimport script from \"./RangeSlider.vue?vue&type=script&lang=js&\"\nexport * from \"./RangeSlider.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RangeSlider.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <div id=\"map\" v-on:draw=\"generatePolygons()\"></div>\n    <div id=\"vue-range-slider\">\n      <RangeSlider v-on:changeValue=\"generatePolygons()\"/>\n    </div>\n  </div>\n</template>\n\n<script>\nimport mapboxgl from \"mapbox-gl\";\nimport * as MapboxDraw from 'mapbox-gl-draw';\nimport threebox from \"threebox-plugin/dist/threebox\";\nimport { Threebox } from 'threebox-plugin';\nimport Pulse from \"./Pulses/Pulse\";\nimport * as turf from '@turf/turf';\nimport RangeSlider from \"./RangeSlider\"\n\n\nlet pulse = new Pulse(400, 4000, true);\nthreebox\n\n\n// Calculate the area of drawn polygons\nfunction updateArea(draw) {\n    const data = draw.getAll();\n    const answer = document.getElementById('calculated-area');\n    if (data.features.length > 0) {\n      const area = turf.area(data);\n\n      // Restrict the area to 2 decimal points.\n      const rounded_area = Math.round(area * 100) / 100;\n      answer.innerHTML = `<p><strong>${rounded_area}</strong> m²</p>`;\n    } else {\n      answer.innerHTML = '';\n      // if (e.type !== 'draw.delete')\n      //   alert('Click the map to draw a polygon.');\n  }\n}\n\n\n// Returns true if finds a defined key in the input array of dictionaries\nfunction keyInDictionary (dictionaries, keyToFind) {\n    for (var i in dictionaries) {\n        if (dictionaries[i]['id'] == keyToFind) {\n            return true\n        }\n    }\n}\n\n\n// Returns a list of centroids of multiple LineStrings\nfunction lineCentroids(lines) {\n  const centroids = [];\n  for (let i = 0; i < lines.features.length; i++) {\n    const line = turf.lineString(lines.features[i])\n    const ctr = turf.centroid(line['geometry']['coordinates'])\n    centroids.push(ctr)\n  }\n  return centroids\n}\n\n\n// Returns points along a LineString divided according to a specified length in meters\nfunction divideLineString(line, length=100) {\n  const chunks = turf.lineChunk(line, length, {units: 'meters'})\n  return lineCentroids(chunks)\n}\n\n\n// Extract drawn shape and convert it to a polygon\nfunction getPolygonDrawn(draw){\n  const data = draw.getAll()\n  return turf.polygon(data.features[0]['geometry']['coordinates'])\n}\n\n\n// Extract internal skeleton of a shape\nfunction voronoiSkeleton(draw){\n  const pol = getPolygonDrawn(draw)\n  const line = turf.polygonToLine(pol)\n  const chunks = turf.lineChunk(line, 0.01)\n  const centroids = lineCentroids(chunks)\n  const centroids_gj = {\n    \"type\": \"FeatureCollection\",\n    \"features\": centroids\n  }\n  const voronoi = turf.voronoi(centroids_gj)\n  // Iterate over voronoi polygons to extract segments inside drawing\n  const voronoiLines = [];\n  for (let i = 0; i < voronoi.features.length; i++) {\n    const voronoiPolygon = turf.polygon(voronoi.features[i]['geometry']['coordinates']);\n    const voronoiLine = turf.polygonToLine(voronoiPolygon)\n    const voronoiSegments = turf.lineSegment(voronoiLine)\n    for (let i = 0; i < voronoiSegments.features.length; i++) {\n      const segmentCentroid = turf.centroid(voronoiSegments.features[i])\n      if (turf.booleanContains(pol, segmentCentroid)) {\n        voronoiLines.push(voronoiSegments.features[i])\n      }\n    }\n  }\n  const voronoiLinesGeoJSON = {\n    \"type\": \"FeatureCollection\",\n    \"features\": voronoiLines\n  }\n  const voronoiLinesCombined = turf.combine(voronoiLinesGeoJSON)\n  const voronoiLinesSimplified = turf.simplify(voronoiLinesCombined,\n    {tolerance: 5, mutate: true})\n  return voronoiLinesSimplified\n}\n\n\n// Generate skeleton and buffer according to some number of iterations\nfunction bufferDrawSkeleton(skeleton) {\n  const bufferedSkeletons = []\n  for (let i = 0; i < 3; i++) {\n    const skeletonBuffer = turf.buffer(skeleton, 30 * (i+1), {units: 'meters'})\n    const dissolvedSkeleton = turf.dissolve(skeletonBuffer)\n    bufferedSkeletons.push(turf.lineString(dissolvedSkeleton.features[0]['geometry']['coordinates'][0]))\n  }\n  return bufferedSkeletons\n}\n\n\n// Subdivide a drawn shape using Voronoi patterns\nfunction subdivideShape(draw) {\n  const output = {}\n  const skeleton = voronoiSkeleton(draw)\n  output.skeleton = skeleton.features\n  const skeletonBufferSmall = turf.buffer(skeleton, 0.1, {units: 'meters'}).features[0]\n  const skeletonLine = turf.polygonToLine(skeletonBufferSmall)\n  const dividedSkeleton = divideLineString(turf.combine(skeletonLine))\n  const voronoiSkeletonBuffers = bufferDrawSkeleton(skeleton)\n  output.voronoiSkeletonBuffers = voronoiSkeletonBuffers\n  output.perpendicularLines = []\n  for (let i = 0; i < dividedSkeleton.length; i++) {\n    var originalPoint = dividedSkeleton[i]\n    const nearestPoints = [originalPoint['geometry']['coordinates']]\n    for (let j = 0; j < voronoiSkeletonBuffers.length; j++) {\n      const buffer = voronoiSkeletonBuffers[j]\n      const nextPoint = turf.nearestPointOnLine(buffer, turf.point(originalPoint['geometry']['coordinates']))\n      nearestPoints.push(nextPoint['geometry']['coordinates'])\n      originalPoint = nextPoint\n    }\n    output.perpendicularLines.push(turf.lineString(nearestPoints))\n  }\n  return output\n}\n\n// Buffer generated lines according to buffer range and subtract from original drawing\nfunction generateBlocks(draw, bufferRange) {\n  const bufferOptions = {units: 'meters'}\n  const subdivisions = subdivideShape(draw)\n  const skeletonBuffer = turf.buffer(subdivisions.skeleton[0], bufferRange[1]/2, bufferOptions)\n  const perpendicularsBuffered = turf.buffer(turf.featureCollection(subdivisions.perpendicularLines), (bufferRange[0] + bufferRange[1])/4, bufferOptions)\n  const parallelsBuffered = turf.buffer(turf.featureCollection(subdivisions.voronoiSkeletonBuffers), bufferRange[0]/2, bufferOptions)\n  const allBuffers = perpendicularsBuffered.features.concat(parallelsBuffered.features, skeletonBuffer)\n  \n  // Iterate over buffers to extract coords\n  const allBuffersCoords = []\n  for (let i = 0; i < allBuffers.length; i++) {\n    console.log(allBuffers[i])\n    const buffer = allBuffers[i].geometry.coordinates\n    allBuffersCoords.push(buffer)\n  }\n  // const bufferedCenterlines = turf.dissolve(allBuffers)\n  // console.log(\"Centelrines dissolved\")\n  console.log(turf.multiPolygon(allBuffersCoords))\n  const difference = turf.difference(getPolygonDrawn(draw), turf.multiPolygon(allBuffersCoords))\n  console.log(\"Subtraction performed\")\n  const simplified = turf.simplify(difference, {tolerance: 0.00001})\n  console.log(\"Simplification completed\")\n  return simplified\n}\n\n\nfunction deleteOutlineDraws(map) {\n  if (keyInDictionary(map.getStyle().layers, 'outline')) {\n    map.removeLayer('outline')\n  }\n  if ('draw' in map.getStyle().sources) {\n    map.removeSource('draw')\n  }\n}\n\n\nexport function updateDraw(mapbox, draw, widthRange) {\n  deleteOutlineDraws(mapbox)\n  mapbox.addSource('draw', {\n    'type': 'geojson',\n    'data': generateBlocks(draw, widthRange),\n  });\n  mapbox.addLayer({\n    'id': 'outline',\n    'type': 'fill',\n    'source': 'draw',\n    'paint': {\n      'fill-color': '#06be7f' // red color\n    }\n  });\n}\n\n\nfunction createDraw(mapbox, draw, widthRange) {\n  widthRange\n  mapbox.addSource('draw', {\n    'type': 'geojson',\n    'data': generateBlocks(draw, widthRange),\n  });\n  mapbox.addLayer({\n    'id': 'outline',\n    'type': 'fill',\n    'source': 'draw',\n    'paint': {\n      'fill-color': '#06be7f',\n    }\n  });\n}\n\n\nexport default {\n  name: \"ThreeboxExample\",\n\n  mounted() {\n    this.$store.dispatch('loadMap')\n    this.$store.dispatch('setDraw')\n    // this.$store.dispatch('generatePolygons')\n    // this.initMap()\n    // this.addDrawControls()\n    this.generatePolygons()\n  },\n  computed: {\n    accessToken(){\n      return this.$store.state.accessToken\n    },\n    getDraw(){\n      return this.$store.getters.draw\n    },\n    widthRange(){\n      return this.$store.state.widthRange\n    },\n    getMap(){\n      return this.$store.state.mapbox\n    },\n  },\n  components: {\n    RangeSlider\n  },\n  methods: {\n    // loadMap (context) {\n    //   mapboxgl.accessToken = this.state.accessToken\n    //   var mapbox = new mapboxgl.Map({\n    //     container: \"map\",\n    //     interactive: true,\n    //     style:  \"mapbox://styles/mapbox/dark-v10\",\n    //     zoom: 16,\n    //     center: [-123.1068658, 49.2626982],\n    //     pitch: 60,\n    //     bearing: 360,\n    //     antialias: true,\n    //     attributionControl: false\n    //   })\n    //   context.commit('loadMap', mapbox)\n    // },\n    // setDraw (context) {\n    //   // Add draw controls\n    //   const draw = new MapboxDraw();\n    //   this.state.mapbox.addControl(draw, 'top-right');\n    //   context.commit('setDraw', this.draw)\n    // },\n    sphere(lon, lat) {\n      let origin = [lon, lat, 0];\n      return window.tb\n        .sphere({ color: \"red\", material: \"MeshToonMaterial\" })\n        .setCoords(origin);\n    },\n    animatePulse() {\n      pulse.update();\n      this.mapbox.triggerRepaint();\n    },\n    initMap() {\n      mapboxgl.accessToken = this.accessToken;\n      this.mapbox = new mapboxgl.Map({\n        container: \"map\",\n        interactive: true,\n        style:  \"mapbox://styles/mapbox/dark-v10\",\n        zoom: 16,\n        center: [-123.1068658, 49.2626982],\n        pitch: 60,\n        bearing: 360,\n        antialias: true,\n        attributionControl: false\n      }).on(\"style.load\", () => {\n        window.tb = new Threebox(\n          this.mapbox,\n          this.mapbox.getCanvas().getContext(\"webgl\"), {\n            defaultLights: true,\n          }\n        );\n\n        // Add draw control\n        if (this.mapbox.getLayer(\"custom_layer\") == null) {\n\n          this.mapbox.on('load', () => {\n\n            // // Add 3D terrain\n            // this.mapbox.addSource('mapbox-dem', {\n            //   'type': 'raster-dem',\n            //   'url': 'mapbox://mapbox.mapbox-terrain-dem-v1',\n            //   'tileSize': 512,\n            //   'maxzoom': 20\n            // });\n            //\n            // // add the DEM source as a terrain layer with exaggerated height\n            // this.mapbox.setTerrain({ 'source': 'mapbox-dem', 'exaggeration': 1.5 });\n\n            // // Add parcels layer source (CoV)\n            // this.mapbox.addSource('property-parcel-polygons', {\n            //   'type': 'geojson',\n            //   'data': 'https://raw.githubusercontent.com/nicholasmartino/vue-threebox/master/public/data/property-parcel-polygons.geojson',\n            // });\n            //\n            // // Add parcels layer to map\n            // this.mapbox.addLayer({\n            //   'id': 'property-parcel-polygons-shp',\n            //   'type': 'fill',\n            //   'source': 'property-parcel-polygons',\n            //   'paint': {\n            //     'fill-color': '#0080ff', // blue color fill\n            //     'fill-opacity': 0.2,\n            //   },\n            // });\n\n            // The 'building' layer in the Mapbox Streets\n            // vector tileset contains building height data\n            // from OpenStreetMap.\n            this.mapbox.addLayer({\n              'id': 'add-3d-buildings',\n              'source': 'composite',\n              'source-layer': 'building',\n              'filter': ['==', 'extrude', 'true'],\n              'type': 'fill-extrusion',\n              'minzoom': 12,\n              'paint': {\n                'fill-extrusion-color': '#aaa',\n\n                // Use an 'interpolate' expression to\n                // add a smooth transition effect to\n                // the buildings as the user zooms in.\n                'fill-extrusion-height': [\n                  'interpolate',\n                  ['linear'],\n                  ['zoom'],\n                  9,\n                  0,\n                  15.05,\n                  ['get', 'height']\n                ],\n                'fill-extrusion-base': [\n                  'interpolate',\n                  ['linear'],\n                  ['zoom'],\n                  9,\n                  0,\n                  15.05,\n                  ['get', 'min_height']\n                ],\n\n                // 'fill-extrusion-height': ['get', 'height'],\n                'fill-extrusion-opacity': 0.8,\n              },\n            });\n          });\n\n          // // Add spheres to map\n          // const _this = this\n          // this.mapbox.addLayer({\n          //   id: \"custom_layer\",\n          //   type: \"custom\",\n          //   renderingMode: \"3d\",\n          //\n          //   onAdd: function (map, mbxContext) {\n          //     window.tb.add(_this.sphere(-123.1068658, 49.2626982));\n          //     window.tb.add(_this.sphere(-123.1088658, 49.2626982));\n          //     console.log(map)\n          //     console.log(mbxContext)\n          //     let pulseObj = window.tb\n          //       .Object3D({ obj: pulse, units: \"meters\" })\n          //       .setCoords([-123.1068658, 49.2626982, 0]);\n          //\n          //     pulseObj.setAnchor(\"bottom-left\");\n          //\n          //     window.tb.add(pulseObj);\n          //   },\n          //   render: function (gl, matrix) {\n          //     window.tb.update();\n          //     _this.animatePulse();\n          //     console.log(gl)\n          //     console.log(matrix)\n          //   },\n          // });\n\n        }\n      });\n      this.generatePolygons()\n    },\n    addDrawControls() {\n      // Add draw controls\n      this.mapbox = this.$store.state.mapbox\n      const draw = new MapboxDraw();\n      this.mapbox.addControl(draw, 'top-right');\n      this.$store.commit('setDraw', this.draw)\n      this.draw = draw\n    },\n    generatePolygons() {\n      this.mapbox = this.$store.state.mapbox\n      this.draw = this.$store.state.draw\n      console.log(\"Draw\", this.draw)\n      this.mapbox.on('draw.create', () => {\n        updateArea(this.draw)\n      })\n      this.mapbox.on('draw.delete', () => {\n        updateArea(this.draw)\n      })\n      this.mapbox.on('draw.update', () => {\n        updateArea(this.draw)\n      })\n\n      this.mapbox.on('draw.create', () => {\n        createDraw(this.mapbox, this.draw, this.widthRange)\n      });\n\n      this.mapbox.on('draw.delete', () => {\n        deleteOutlineDraws(this.mapbox)\n      });\n\n      this.mapbox.on('draw.update', () => {\n        updateDraw(this.mapbox, this.draw, this.widthRange)\n      });\n    }\n  },\n};\n\n\n\n</script>\n\n\n<style>\n#map {\n  position: absolute;\n  width: 100vw;\n  height: 100vh;\n}\n@import \"https://api.mapbox.com/mapbox-gl-js/v0.42.0/mapbox-gl.css\";\n@import \"https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-draw/v1.2.2/mapbox-gl-draw.css\";\n@import \"https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.css\";\n.mapboxgl-ctrl-group button {\n    width: 29px;\n    height: 29px;\n    display: block;\n    padding: 0;\n    outline: none;\n    border: 0;\n    box-sizing: border-box;\n    background-color: transparent;\n    cursor: pointer;\n    overflow: hidden;\n}\n.mapboxgl-ctrl-top-right {\n    top: 0;\n    right: 0;\n    position: absolute;\n}\n.marker:before {\n  content: \"\";\n  cursor: pointer;\n  position: absolute;\n  width: 25px;\n  height: 25px;\n  border: 1px solid #ccc;\n  border-radius: 75% 45% 75% 0%;\n  background: #3498db;\n  bottom: 0;\n  transform-origin: 0% 100%;\n  transform: rotate(-45deg) scale(1);\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Map.vue?vue&type=template&id=65364deb&\"\nimport script from \"./Map.vue?vue&type=script&lang=js&\"\nexport * from \"./Map.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Map.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"calculated-area\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./AreaBox.vue?vue&type=template&id=6a30c2d6&\"\nvar script = {}\nimport style0 from \"./AreaBox.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"filter-ctrl\"},[_c('input',{attrs:{\"id\":\"filter-input\",\"type\":\"text\",\"name\":\"filter\",\"placeholder\":\"Iterations\"}})])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"filter-ctrl\">\n    <input id=\"filter-input\" type=\"text\" name=\"filter\" placeholder=\"Iterations\">\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: \"TextInput\",\n  data() {\n    return {\n\n    }\n  },\n  mounted() {\n    const filterInput = document.getElementById('filter-input');\n\n    filterInput.addEventListener('keyup', (e) => {\n      // // If the input value matches a layerID set\n      // // it's visibility to 'visible' or else hide it.\n      // const value = e.target.value.trim().toLowerCase();\n      // for (const layerID of layerIDs) {\n      //   map.setLayoutProperty(\n      //     layerID,\n      //     'visibility',\n      //     layerID.includes(value) ? 'visible' : 'none'\n      //   );\n      // }\n      console.log(e)\n    });\n  }\n}\n\n</script>\n\n\n<style>\n.filter-ctrl {\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  z-index: 1;\n}\n\n.filter-ctrl input[type='text'] {\n  font: 12px/20px 'Avenir', Arial, Helvetica, sans-serif;\n  width: 100%;\n  border: 0;\n  background-color: #fff;\n  margin: 0;\n  color: rgba(0, 0, 0, 0.5);\n  padding: 10px;\n  box-shadow: 0 0 0 2px rgba(0, 0, 0, 0.1);\n  border-radius: 3px;\n  width: 180px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TextInput.vue?vue&type=template&id=5ac591f4&\"\nimport script from \"./TextInput.vue?vue&type=script&lang=js&\"\nexport * from \"./TextInput.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TextInput.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <div id=\"app\">\n      <Map />\n    </div>\n    <div id=\"area_box\">\n      <AreaBox />\n    </div>\n    <div id=\"text_input\">\n      <TextInput />\n    </div>\n  </div>\n</template>\n\n<script>\nimport Map from \"./components/Map\";\nimport AreaBox from \"./components/AreaBox\";\nimport TextInput from \"./components/TextInput\";\n\nexport default {\n  name: \"App\",\n  components: {\n    Map,\n    AreaBox,\n    TextInput,\n  },\n};\n</script>\n\n<style>\n\nbody,\nhtml {\n  width: 100%;\n  height: 100%;\n  margin: 0;\n}\n\n#app {\n  font-family: \"Avenir\", Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin: 0;\n  padding: 0;\n  width: 100vw;\n  height: 100vh;\n}\n\n#vue-range-slider {\n  position: absolute;\n  width: 200px;\n  float: left;\n  top: 100px;\n  left: 10px;\n  z-index: 1;\n}\n\n.navbar {\n  margin-top: 1rem;\n  margin-bottom: 1rem;\n  border-radius: 0.25rem;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=0182e07b&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\nimport Vuex from 'vuex';\nimport mapboxgl from \"mapbox-gl\";\nimport * as MapboxDraw from 'mapbox-gl-draw';\nimport { Threebox } from 'threebox-plugin';\nimport { updateDraw } from '../components/Map'\nVue.use(Vuex);\n\n\nexport const store = new Vuex.Store({\n  state:{\n    accessToken:\n      \"pk.eyJ1IjoibmljaG9sYXNtYXJ0aW5vIiwiYSI6ImNrMjVhOGphOTAzZGUzbG8wNHJhdTZrMmYifQ.98uDMnGIvn1zrw4ZWUO35g\",\n    widthRange: [6, 10],\n    draw: null,\n    mapbox: null,\n    polygons: null\n  },\n  getters: {\n    getDraw: state => {\n        return state.draw\n    }\n  },\n  mutations: {\n    setRange: (state, value) => {\n      state.widthRange = value\n    },\n    setDraw: (state, draw) => {\n      state.draw = draw\n    },\n    loadMap: (state, mapbox) => {\n      state.mapbox = mapbox\n    },\n    generatePolygons: (state, polygons) => {\n      console.log(updateDraw(state.mapbox, state.draw, state.widthRange))\n      state.polygons = polygons\n    }\n  },\n  actions: {\n    loadMap (context) {\n      mapboxgl.accessToken = this.state.accessToken\n      var mapbox = new mapboxgl.Map({\n        container: \"map\",\n        interactive: true,\n        style:  \"mapbox://styles/mapbox/dark-v10\",\n        zoom: 16,\n        center: [-123.1068658, 49.2626982],\n        pitch: 60,\n        bearing: 360,\n        antialias: true,\n        attributionControl: false\n      }).on(\"style.load\", () => {\n        window.tb = new Threebox(\n          mapbox,\n          mapbox.getCanvas().getContext(\"webgl\"), {\n            defaultLights: true,\n          }\n        );\n\n        if (mapbox.getLayer(\"custom_layer\") == null) {\n\n          mapbox.on('load', () => {\n\n            // Add 3D terrain\n            mapbox.addSource('mapbox-dem', {\n              'type': 'raster-dem',\n              'url': 'mapbox://mapbox.mapbox-terrain-dem-v1',\n              'tileSize': 512,\n              'maxzoom': 20\n            });\n\n            // Add satellite map\n            mapbox.addSource('xyz-tile',{\n              'type': 'raster',\n              'tiles': ['https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}'],\n              'tileSize': 512,\n            })\n      \n            mapbox.addLayer({\n              'id': 'wms-test-layer',\n              'type': 'raster',\n              'source': 'xyz-tile',\n              'paint': {\n                'raster-opacity': 0.2,\n              }\n            })\n\n            // add the DEM source as a terrain layer with exaggerated height\n            mapbox.setTerrain({ 'source': 'mapbox-dem', 'exaggeration': 1.5 });\n\n            // Add parcels layer source (CoV)\n            mapbox.addSource('property-parcel-polygons', {\n              'type': 'geojson',\n              'data': 'https://raw.githubusercontent.com/nicholasmartino/vue-threebox/master/public/data/property-parcel-polygons.geojson',\n            });\n\n            // Add parcels layer to map\n            mapbox.addLayer({\n              'id': 'property-parcel-polygons-shp',\n              'type': 'fill',\n              'source': 'property-parcel-polygons',\n              'paint': {\n                'fill-color': '#ffffff', // blue color fill\n                'fill-opacity': 0.2,\n              },\n            });\n\n            // The 'building' layer in the Mapbox Streets\n            // vector tileset contains building height data\n            // from OpenStreetMap.\n            mapbox.addLayer({\n              'id': 'add-3d-buildings',\n              'source': 'composite',\n              'source-layer': 'building',\n              'filter': ['==', 'extrude', 'true'],\n              'type': 'fill-extrusion',\n              'minzoom': 12,\n              'paint': {\n                'fill-extrusion-color': '#aaa',\n\n                // Use an 'interpolate' expression to\n                // add a smooth transition effect to\n                // the buildings as the user zooms in.\n                'fill-extrusion-height': [\n                  'interpolate',\n                  ['linear'],\n                  ['zoom'],\n                  9,\n                  0,\n                  15.05,\n                  ['get', 'height']\n                ],\n                'fill-extrusion-base': [\n                  'interpolate',\n                  ['linear'],\n                  ['zoom'],\n                  9,\n                  0,\n                  15.05,\n                  ['get', 'min_height']\n                ],\n\n                // 'fill-extrusion-height': ['get', 'height'],\n                'fill-extrusion-opacity': 0.8,\n              },\n            });\n          });\n\n          // // Add spheres to map\n          // const _this = this\n          // mapbox.addLayer({\n          //   id: \"custom_layer\",\n          //   type: \"custom\",\n          //   renderingMode: \"3d\",\n          //\n          //   onAdd: function (map, mbxContext) {\n          //     window.tb.add(_this.sphere(-123.1068658, 49.2626982));\n          //     window.tb.add(_this.sphere(-123.1088658, 49.2626982));\n          //     console.log(map)\n          //     console.log(mbxContext)\n          //     let pulseObj = window.tb\n          //       .Object3D({ obj: pulse, units: \"meters\" })\n          //       .setCoords([-123.1068658, 49.2626982, 0]);\n          //\n          //     pulseObj.setAnchor(\"bottom-left\");\n          //\n          //     window.tb.add(pulseObj);\n          //   },\n          //   render: function (gl, matrix) {\n          //     window.tb.update();\n          //     _this.animatePulse();\n          //     console.log(gl)\n          //     console.log(matrix)\n          //   },\n          // });\n\n        }\n      });\n      context.commit('loadMap', mapbox)\n    },\n    setDraw (context) {\n      // Add draw controls\n      console.log(\"Add draw\")\n      const draw = new MapboxDraw();\n      this.state.mapbox.addControl(draw, 'top-right');\n      context.commit('setDraw', draw)\n    },\n  }\n})\n","import Vue from \"vue\";\nimport App from \"./App.vue\";\nimport { store } from \"./store/store\"\n\n\nVue.config.productionTip = false;\n\nnew Vue({\n  store: store,\n  render: (h) => h(App)\n}).$mount(\"#app\");\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RangeSlider.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}